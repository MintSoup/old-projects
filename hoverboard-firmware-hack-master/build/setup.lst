ARM GAS  C:\Users\Areg\AppData\Local\Temp\cc4EuRL1.s 			page 1


   1              		.syntax unified
   2              		.cpu cortex-m3
   3              		.fpu softvfp
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.thumb
  14              		.syntax unified
  15              		.file	"setup.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.section	.text.UART_Control_Init,"ax",%progbits
  20              		.align	2
  21              		.global	UART_Control_Init
  22              		.thumb
  23              		.thumb_func
  25              	UART_Control_Init:
  26              	.LFB64:
  27              		.file 1 "Src/setup.c"
   1:Src/setup.c   **** /*
   2:Src/setup.c   ****  * This file is part of the hoverboard-firmware-hack project.
   3:Src/setup.c   ****  *
   4:Src/setup.c   ****  * Copyright (C) 2017-2018 Rene Hopf <renehopf@mac.com>
   5:Src/setup.c   ****  * Copyright (C) 2017-2018 Nico Stute <crinq@crinq.de>
   6:Src/setup.c   ****  * Copyright (C) 2017-2018 Niklas Fauth <niklas.fauth@kit.fail>
   7:Src/setup.c   ****  *
   8:Src/setup.c   ****  * This program is free software: you can redistribute it and/or modify
   9:Src/setup.c   ****  * it under the terms of the GNU General Public License as published by
  10:Src/setup.c   ****  * the Free Software Foundation, either version 3 of the License, or
  11:Src/setup.c   ****  * (at your option) any later version.
  12:Src/setup.c   ****  *
  13:Src/setup.c   ****  * This program is distributed in the hope that it will be useful,
  14:Src/setup.c   ****  * but WITHOUT ANY WARRANTY; without even the implied warranty of
  15:Src/setup.c   ****  * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  16:Src/setup.c   ****  * GNU General Public License for more details.
  17:Src/setup.c   ****  *
  18:Src/setup.c   ****  * You should have received a copy of the GNU General Public License
  19:Src/setup.c   ****  * along with this program.  If not, see <http://www.gnu.org/licenses/>.
  20:Src/setup.c   ****  */
  21:Src/setup.c   **** 
  22:Src/setup.c   **** /*
  23:Src/setup.c   **** tim1 master, enable -> trgo
  24:Src/setup.c   **** tim8, gated slave mode, trgo by tim1 trgo. overflow -> trgo
  25:Src/setup.c   **** adc1,adc2 triggered by tim8 trgo
  26:Src/setup.c   **** adc 1,2 dual mode
  27:Src/setup.c   **** 
  28:Src/setup.c   **** ADC1             ADC2
  29:Src/setup.c   **** R_Blau PC4 CH14  R_Gelb PC5 CH15
  30:Src/setup.c   **** L_Gr√ºn PA0 CH01  L_Blau PC3 CH13
  31:Src/setup.c   **** R_DC PC1 CH11    L_DC PC0 CH10
ARM GAS  C:\Users\Areg\AppData\Local\Temp\cc4EuRL1.s 			page 2


  32:Src/setup.c   **** BAT   PC2 CH12   L_TX PA2 CH02
  33:Src/setup.c   **** BAT   PC2 CH12   L_RX PA3 CH03
  34:Src/setup.c   **** 
  35:Src/setup.c   **** pb10 usart3 dma1 channel2/3
  36:Src/setup.c   **** */
  37:Src/setup.c   **** 
  38:Src/setup.c   **** #include "config.h"
  39:Src/setup.c   **** #include "defines.h"
  40:Src/setup.c   **** 
  41:Src/setup.c   **** TIM_HandleTypeDef htim_right;
  42:Src/setup.c   **** TIM_HandleTypeDef htim_left;
  43:Src/setup.c   **** ADC_HandleTypeDef hadc1;
  44:Src/setup.c   **** ADC_HandleTypeDef hadc2;
  45:Src/setup.c   **** I2C_HandleTypeDef hi2c2;
  46:Src/setup.c   **** UART_HandleTypeDef huart2;
  47:Src/setup.c   **** 
  48:Src/setup.c   **** DMA_HandleTypeDef hdma_usart2_rx;
  49:Src/setup.c   **** DMA_HandleTypeDef hdma_usart2_tx;
  50:Src/setup.c   **** volatile adc_buf_t adc_buffer;
  51:Src/setup.c   **** 
  52:Src/setup.c   **** #ifdef CONTROL_SERIAL_USART2
  53:Src/setup.c   **** 
  54:Src/setup.c   **** void UART_Control_Init() {
  28              		.loc 1 54 0
  29              		.cfi_startproc
  30              		@ args = 0, pretend = 0, frame = 32
  31              		@ frame_needed = 0, uses_anonymous_args = 0
  32 0000 F0B5     		push	{r4, r5, r6, r7, lr}
  33              	.LCFI0:
  34              		.cfi_def_cfa_offset 20
  35              		.cfi_offset 4, -20
  36              		.cfi_offset 5, -16
  37              		.cfi_offset 6, -12
  38              		.cfi_offset 7, -8
  39              		.cfi_offset 14, -4
  40 0002 89B0     		sub	sp, sp, #36
  41              	.LCFI1:
  42              		.cfi_def_cfa_offset 56
  43              	.LBB2:
  55:Src/setup.c   **** 	GPIO_InitTypeDef GPIO_InitStruct;
  56:Src/setup.c   **** 	__HAL_RCC_USART2_CLK_ENABLE();
  44              		.loc 1 56 0
  45 0004 3E4E     		ldr	r6, .L3
  46 0006 F369     		ldr	r3, [r6, #28]
  47 0008 43F40033 		orr	r3, r3, #131072
  48 000c F361     		str	r3, [r6, #28]
  49 000e F369     		ldr	r3, [r6, #28]
  50 0010 03F40033 		and	r3, r3, #131072
  51 0014 0093     		str	r3, [sp]
  52 0016 009B     		ldr	r3, [sp]
  53              	.LBE2:
  57:Src/setup.c   **** 	/* DMA1_Channel6_IRQn interrupt configuration */
  58:Src/setup.c   **** 	// HAL_NVIC_SetPriority(DMA1_Channel6_IRQn, 5, 6);
  59:Src/setup.c   **** 	// HAL_NVIC_EnableIRQ(DMA1_Channel6_IRQn);
  60:Src/setup.c   **** 	HAL_NVIC_SetPriority(DMA1_Channel6_IRQn, 5, 6);
  54              		.loc 1 60 0
  55 0018 0622     		movs	r2, #6
ARM GAS  C:\Users\Areg\AppData\Local\Temp\cc4EuRL1.s 			page 3


  56 001a 0521     		movs	r1, #5
  57 001c 1020     		movs	r0, #16
  58 001e FFF7FEFF 		bl	HAL_NVIC_SetPriority
  59              	.LVL0:
  61:Src/setup.c   **** 	HAL_NVIC_EnableIRQ(DMA1_Channel6_IRQn);
  60              		.loc 1 61 0
  61 0022 1020     		movs	r0, #16
  62 0024 FFF7FEFF 		bl	HAL_NVIC_EnableIRQ
  63              	.LVL1:
  62:Src/setup.c   **** 	/* DMA1_Channel7_IRQn interrupt configuration */
  63:Src/setup.c   **** 	HAL_NVIC_SetPriority(DMA1_Channel7_IRQn, 5, 7);
  64              		.loc 1 63 0
  65 0028 0722     		movs	r2, #7
  66 002a 0521     		movs	r1, #5
  67 002c 1120     		movs	r0, #17
  68 002e FFF7FEFF 		bl	HAL_NVIC_SetPriority
  69              	.LVL2:
  64:Src/setup.c   **** 	HAL_NVIC_EnableIRQ(DMA1_Channel7_IRQn);
  70              		.loc 1 64 0
  71 0032 1120     		movs	r0, #17
  72 0034 FFF7FEFF 		bl	HAL_NVIC_EnableIRQ
  73              	.LVL3:
  65:Src/setup.c   **** 
  66:Src/setup.c   **** 	huart2.Instance = USART2;
  74              		.loc 1 66 0
  75 0038 324D     		ldr	r5, .L3+4
  76 003a 334B     		ldr	r3, .L3+8
  77 003c 2B60     		str	r3, [r5]
  67:Src/setup.c   **** 	huart2.Init.BaudRate = CONTROL_BAUD;
  78              		.loc 1 67 0
  79 003e 4FF4E133 		mov	r3, #115200
  80 0042 6B60     		str	r3, [r5, #4]
  68:Src/setup.c   **** 	huart2.Init.WordLength = UART_WORDLENGTH_8B;
  81              		.loc 1 68 0
  82 0044 0024     		movs	r4, #0
  83 0046 AC60     		str	r4, [r5, #8]
  69:Src/setup.c   **** 	huart2.Init.StopBits = UART_STOPBITS_1;
  84              		.loc 1 69 0
  85 0048 EC60     		str	r4, [r5, #12]
  70:Src/setup.c   **** 	huart2.Init.Parity = UART_PARITY_NONE;
  86              		.loc 1 70 0
  87 004a 2C61     		str	r4, [r5, #16]
  71:Src/setup.c   **** 	huart2.Init.Mode = UART_MODE_TX_RX;
  88              		.loc 1 71 0
  89 004c 0C23     		movs	r3, #12
  90 004e 6B61     		str	r3, [r5, #20]
  72:Src/setup.c   **** 	huart2.Init.HwFlowCtl = UART_HWCONTROL_NONE;
  91              		.loc 1 72 0
  92 0050 AC61     		str	r4, [r5, #24]
  73:Src/setup.c   **** 	// huart2.Init.OverSampling = UART_OVERSAMPLING_16;
  74:Src/setup.c   **** 	HAL_UART_Init(&huart2);
  93              		.loc 1 74 0
  94 0052 2846     		mov	r0, r5
  95 0054 FFF7FEFF 		bl	HAL_UART_Init
  96              	.LVL4:
  97              	.LBB3:
  75:Src/setup.c   **** 
ARM GAS  C:\Users\Areg\AppData\Local\Temp\cc4EuRL1.s 			page 4


  76:Src/setup.c   **** 	__HAL_RCC_DMA1_CLK_ENABLE();
  98              		.loc 1 76 0
  99 0058 7369     		ldr	r3, [r6, #20]
 100 005a 43F00103 		orr	r3, r3, #1
 101 005e 7361     		str	r3, [r6, #20]
 102 0060 7369     		ldr	r3, [r6, #20]
 103 0062 03F00103 		and	r3, r3, #1
 104 0066 0193     		str	r3, [sp, #4]
 105 0068 019B     		ldr	r3, [sp, #4]
 106              	.LBE3:
 107              	.LBB4:
  77:Src/setup.c   **** 	/* USER CODE BEGIN USART2_MspInit 0 */
  78:Src/setup.c   **** 	__HAL_RCC_GPIOA_CLK_ENABLE();
 108              		.loc 1 78 0
 109 006a B369     		ldr	r3, [r6, #24]
 110 006c 43F00403 		orr	r3, r3, #4
 111 0070 B361     		str	r3, [r6, #24]
 112 0072 B369     		ldr	r3, [r6, #24]
 113 0074 03F00403 		and	r3, r3, #4
 114 0078 0293     		str	r3, [sp, #8]
 115 007a 029B     		ldr	r3, [sp, #8]
 116              	.LBE4:
 117              	.LBB5:
  79:Src/setup.c   **** 	/* USER CODE END USART2_MspInit 0 */
  80:Src/setup.c   **** 	/* Peripheral clock enable */
  81:Src/setup.c   **** 	__HAL_RCC_USART2_CLK_ENABLE();
 118              		.loc 1 81 0
 119 007c F369     		ldr	r3, [r6, #28]
 120 007e 43F40033 		orr	r3, r3, #131072
 121 0082 F361     		str	r3, [r6, #28]
 122 0084 F369     		ldr	r3, [r6, #28]
 123 0086 03F40033 		and	r3, r3, #131072
 124 008a 0393     		str	r3, [sp, #12]
 125 008c 039B     		ldr	r3, [sp, #12]
 126              	.LBE5:
  82:Src/setup.c   **** 
  83:Src/setup.c   **** 	GPIO_InitStruct.Pull = GPIO_PULLUP; // GPIO_NOPULL;
 127              		.loc 1 83 0
 128 008e 0123     		movs	r3, #1
 129 0090 0693     		str	r3, [sp, #24]
  84:Src/setup.c   **** 	GPIO_InitStruct.Pin = GPIO_PIN_2;
 130              		.loc 1 84 0
 131 0092 0423     		movs	r3, #4
 132 0094 0493     		str	r3, [sp, #16]
  85:Src/setup.c   **** 	GPIO_InitStruct.Mode = GPIO_MODE_AF_PP;
 133              		.loc 1 85 0
 134 0096 0223     		movs	r3, #2
 135 0098 0593     		str	r3, [sp, #20]
  86:Src/setup.c   **** 	GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_HIGH;
 136              		.loc 1 86 0
 137 009a 0323     		movs	r3, #3
 138 009c 0793     		str	r3, [sp, #28]
  87:Src/setup.c   **** 	HAL_GPIO_Init(GPIOA, &GPIO_InitStruct);
 139              		.loc 1 87 0
 140 009e A6F58436 		sub	r6, r6, #67584
 141 00a2 04A9     		add	r1, sp, #16
 142 00a4 3046     		mov	r0, r6
ARM GAS  C:\Users\Areg\AppData\Local\Temp\cc4EuRL1.s 			page 5


 143 00a6 FFF7FEFF 		bl	HAL_GPIO_Init
 144              	.LVL5:
  88:Src/setup.c   **** 
  89:Src/setup.c   **** 	GPIO_InitStruct.Pin = GPIO_PIN_3;
 145              		.loc 1 89 0
 146 00aa 0823     		movs	r3, #8
 147 00ac 0493     		str	r3, [sp, #16]
  90:Src/setup.c   **** 	GPIO_InitStruct.Mode = GPIO_MODE_INPUT; // GPIO_MODE_AF_PP;
 148              		.loc 1 90 0
 149 00ae 0594     		str	r4, [sp, #20]
  91:Src/setup.c   **** 	// GPIO_InitStruct.Pull = GPIO_NOPULL;
  92:Src/setup.c   **** 	HAL_GPIO_Init(GPIOA, &GPIO_InitStruct);
 150              		.loc 1 92 0
 151 00b0 04A9     		add	r1, sp, #16
 152 00b2 3046     		mov	r0, r6
 153 00b4 FFF7FEFF 		bl	HAL_GPIO_Init
 154              	.LVL6:
  93:Src/setup.c   **** 
  94:Src/setup.c   **** 	/* Peripheral DMA init*/
  95:Src/setup.c   **** 
  96:Src/setup.c   **** 	hdma_usart2_rx.Instance = DMA1_Channel6;
 155              		.loc 1 96 0
 156 00b8 144E     		ldr	r6, .L3+12
 157 00ba 154B     		ldr	r3, .L3+16
 158 00bc 3360     		str	r3, [r6]
  97:Src/setup.c   **** 	hdma_usart2_rx.Init.Direction = DMA_PERIPH_TO_MEMORY;
 159              		.loc 1 97 0
 160 00be 7460     		str	r4, [r6, #4]
  98:Src/setup.c   **** 	hdma_usart2_rx.Init.PeriphInc = DMA_PINC_DISABLE;
 161              		.loc 1 98 0
 162 00c0 B460     		str	r4, [r6, #8]
  99:Src/setup.c   **** 	hdma_usart2_rx.Init.MemInc = DMA_MINC_ENABLE;
 163              		.loc 1 99 0
 164 00c2 8027     		movs	r7, #128
 165 00c4 F760     		str	r7, [r6, #12]
 100:Src/setup.c   **** 	hdma_usart2_rx.Init.PeriphDataAlignment = DMA_PDATAALIGN_BYTE;
 166              		.loc 1 100 0
 167 00c6 3461     		str	r4, [r6, #16]
 101:Src/setup.c   **** 	hdma_usart2_rx.Init.MemDataAlignment = DMA_MDATAALIGN_BYTE;
 168              		.loc 1 101 0
 169 00c8 7461     		str	r4, [r6, #20]
 102:Src/setup.c   **** 	hdma_usart2_rx.Init.Mode = DMA_CIRCULAR; // DMA_NORMAL;
 170              		.loc 1 102 0
 171 00ca 2023     		movs	r3, #32
 172 00cc B361     		str	r3, [r6, #24]
 103:Src/setup.c   **** 	hdma_usart2_rx.Init.Priority = DMA_PRIORITY_LOW;
 173              		.loc 1 103 0
 174 00ce F461     		str	r4, [r6, #28]
 104:Src/setup.c   **** 	HAL_DMA_Init(&hdma_usart2_rx);
 175              		.loc 1 104 0
 176 00d0 3046     		mov	r0, r6
 177 00d2 FFF7FEFF 		bl	HAL_DMA_Init
 178              	.LVL7:
 105:Src/setup.c   **** 
 106:Src/setup.c   **** 	__HAL_LINKDMA(&huart2, hdmarx, hdma_usart2_rx);
 179              		.loc 1 106 0
 180 00d6 6E63     		str	r6, [r5, #52]
ARM GAS  C:\Users\Areg\AppData\Local\Temp\cc4EuRL1.s 			page 6


 181 00d8 7562     		str	r5, [r6, #36]
 107:Src/setup.c   **** 
 108:Src/setup.c   **** 	hdma_usart2_tx.Instance = DMA1_Channel7;
 182              		.loc 1 108 0
 183 00da 0E4E     		ldr	r6, .L3+20
 184 00dc 0E4B     		ldr	r3, .L3+24
 185 00de 3360     		str	r3, [r6]
 109:Src/setup.c   **** 	hdma_usart2_tx.Init.Direction = DMA_MEMORY_TO_PERIPH;
 186              		.loc 1 109 0
 187 00e0 1023     		movs	r3, #16
 188 00e2 7360     		str	r3, [r6, #4]
 110:Src/setup.c   **** 	hdma_usart2_tx.Init.PeriphInc = DMA_PINC_DISABLE;
 189              		.loc 1 110 0
 190 00e4 B460     		str	r4, [r6, #8]
 111:Src/setup.c   **** 	hdma_usart2_tx.Init.MemInc = DMA_MINC_ENABLE;
 191              		.loc 1 111 0
 192 00e6 F760     		str	r7, [r6, #12]
 112:Src/setup.c   **** 	hdma_usart2_tx.Init.PeriphDataAlignment = DMA_PDATAALIGN_BYTE;
 193              		.loc 1 112 0
 194 00e8 3461     		str	r4, [r6, #16]
 113:Src/setup.c   **** 	hdma_usart2_tx.Init.MemDataAlignment = DMA_MDATAALIGN_BYTE;
 195              		.loc 1 113 0
 196 00ea 7461     		str	r4, [r6, #20]
 114:Src/setup.c   **** 	hdma_usart2_tx.Init.Mode = DMA_NORMAL;
 197              		.loc 1 114 0
 198 00ec B461     		str	r4, [r6, #24]
 115:Src/setup.c   **** 	hdma_usart2_tx.Init.Priority = DMA_PRIORITY_LOW;
 199              		.loc 1 115 0
 200 00ee F461     		str	r4, [r6, #28]
 116:Src/setup.c   **** 	HAL_DMA_Init(&hdma_usart2_tx);
 201              		.loc 1 116 0
 202 00f0 3046     		mov	r0, r6
 203 00f2 FFF7FEFF 		bl	HAL_DMA_Init
 204              	.LVL8:
 117:Src/setup.c   **** 	__HAL_LINKDMA(&huart2, hdmatx, hdma_usart2_tx);
 205              		.loc 1 117 0
 206 00f6 2E63     		str	r6, [r5, #48]
 207 00f8 7562     		str	r5, [r6, #36]
 118:Src/setup.c   **** }
 208              		.loc 1 118 0
 209 00fa 09B0     		add	sp, sp, #36
 210              	.LCFI2:
 211              		.cfi_def_cfa_offset 20
 212              		@ sp needed
 213 00fc F0BD     		pop	{r4, r5, r6, r7, pc}
 214              	.L4:
 215 00fe 00BF     		.align	2
 216              	.L3:
 217 0100 00100240 		.word	1073876992
 218 0104 00000000 		.word	huart2
 219 0108 00440040 		.word	1073759232
 220 010c 00000000 		.word	hdma_usart2_rx
 221 0110 6C000240 		.word	1073873004
 222 0114 00000000 		.word	hdma_usart2_tx
 223 0118 80000240 		.word	1073873024
 224              		.cfi_endproc
 225              	.LFE64:
ARM GAS  C:\Users\Areg\AppData\Local\Temp\cc4EuRL1.s 			page 7


 227              		.section	.text.UART_Init,"ax",%progbits
 228              		.align	2
 229              		.global	UART_Init
 230              		.thumb
 231              		.thumb_func
 233              	UART_Init:
 234              	.LFB65:
 119:Src/setup.c   **** 
 120:Src/setup.c   **** #endif
 121:Src/setup.c   **** 
 122:Src/setup.c   **** #ifdef DEBUG_SERIAL_USART3
 123:Src/setup.c   **** void UART_Init() {
 235              		.loc 1 123 0
 236              		.cfi_startproc
 237              		@ args = 0, pretend = 0, frame = 88
 238              		@ frame_needed = 0, uses_anonymous_args = 0
 239 0000 30B5     		push	{r4, r5, lr}
 240              	.LCFI3:
 241              		.cfi_def_cfa_offset 12
 242              		.cfi_offset 4, -12
 243              		.cfi_offset 5, -8
 244              		.cfi_offset 14, -4
 245 0002 97B0     		sub	sp, sp, #92
 246              	.LCFI4:
 247              		.cfi_def_cfa_offset 104
 248              	.LBB6:
 124:Src/setup.c   **** 	__HAL_RCC_USART3_CLK_ENABLE();
 249              		.loc 1 124 0
 250 0004 1F4B     		ldr	r3, .L7
 251 0006 DA69     		ldr	r2, [r3, #28]
 252 0008 42F48022 		orr	r2, r2, #262144
 253 000c DA61     		str	r2, [r3, #28]
 254 000e DA69     		ldr	r2, [r3, #28]
 255 0010 02F48022 		and	r2, r2, #262144
 256 0014 0092     		str	r2, [sp]
 257 0016 009A     		ldr	r2, [sp]
 258              	.LBE6:
 259              	.LBB7:
 125:Src/setup.c   **** 	__HAL_RCC_DMA1_CLK_ENABLE();
 260              		.loc 1 125 0
 261 0018 5A69     		ldr	r2, [r3, #20]
 262 001a 42F00102 		orr	r2, r2, #1
 263 001e 5A61     		str	r2, [r3, #20]
 264 0020 5B69     		ldr	r3, [r3, #20]
 265 0022 03F00103 		and	r3, r3, #1
 266 0026 0193     		str	r3, [sp, #4]
 267 0028 019B     		ldr	r3, [sp, #4]
 268              	.LBE7:
 126:Src/setup.c   **** 
 127:Src/setup.c   **** 	UART_HandleTypeDef huart3;
 128:Src/setup.c   **** 	huart3.Instance = USART3;
 269              		.loc 1 128 0
 270 002a 174D     		ldr	r5, .L7+4
 271 002c 0695     		str	r5, [sp, #24]
 129:Src/setup.c   **** 	huart3.Init.BaudRate = DEBUG_BAUD;
 272              		.loc 1 129 0
 273 002e 4FF4E133 		mov	r3, #115200
ARM GAS  C:\Users\Areg\AppData\Local\Temp\cc4EuRL1.s 			page 8


 274 0032 0793     		str	r3, [sp, #28]
 130:Src/setup.c   **** 	huart3.Init.WordLength = UART_WORDLENGTH_8B;
 275              		.loc 1 130 0
 276 0034 0024     		movs	r4, #0
 277 0036 0894     		str	r4, [sp, #32]
 131:Src/setup.c   **** 	huart3.Init.StopBits = UART_STOPBITS_1;
 278              		.loc 1 131 0
 279 0038 0994     		str	r4, [sp, #36]
 132:Src/setup.c   **** 	huart3.Init.Parity = UART_PARITY_NONE;
 280              		.loc 1 132 0
 281 003a 0A94     		str	r4, [sp, #40]
 133:Src/setup.c   **** 	huart3.Init.Mode = UART_MODE_TX;
 282              		.loc 1 133 0
 283 003c 0823     		movs	r3, #8
 284 003e 0B93     		str	r3, [sp, #44]
 134:Src/setup.c   **** 	huart3.Init.HwFlowCtl = UART_HWCONTROL_NONE;
 285              		.loc 1 134 0
 286 0040 0C94     		str	r4, [sp, #48]
 135:Src/setup.c   **** 	huart3.Init.OverSampling = UART_OVERSAMPLING_16;
 287              		.loc 1 135 0
 288 0042 0D94     		str	r4, [sp, #52]
 136:Src/setup.c   **** 	HAL_UART_Init(&huart3);
 289              		.loc 1 136 0
 290 0044 06A8     		add	r0, sp, #24
 291 0046 FFF7FEFF 		bl	HAL_UART_Init
 292              	.LVL9:
 137:Src/setup.c   **** 
 138:Src/setup.c   **** 	USART3->CR3 |= USART_CR3_DMAT; // | USART_CR3_DMAR | USART_CR3_OVRDIS;
 293              		.loc 1 138 0
 294 004a 6B69     		ldr	r3, [r5, #20]
 295 004c 43F08003 		orr	r3, r3, #128
 296 0050 6B61     		str	r3, [r5, #20]
 139:Src/setup.c   **** 
 140:Src/setup.c   **** 	GPIO_InitTypeDef GPIO_InitStruct;
 141:Src/setup.c   **** 	GPIO_InitStruct.Pin = GPIO_PIN_10;
 297              		.loc 1 141 0
 298 0052 4FF48063 		mov	r3, #1024
 299 0056 0293     		str	r3, [sp, #8]
 142:Src/setup.c   **** 	GPIO_InitStruct.Pull = GPIO_PULLUP;
 300              		.loc 1 142 0
 301 0058 0123     		movs	r3, #1
 302 005a 0493     		str	r3, [sp, #16]
 143:Src/setup.c   **** 	GPIO_InitStruct.Mode = GPIO_MODE_AF_PP;
 303              		.loc 1 143 0
 304 005c 0223     		movs	r3, #2
 305 005e 0393     		str	r3, [sp, #12]
 144:Src/setup.c   **** 	GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_HIGH;
 306              		.loc 1 144 0
 307 0060 0323     		movs	r3, #3
 308 0062 0593     		str	r3, [sp, #20]
 145:Src/setup.c   **** 	HAL_GPIO_Init(GPIOB, &GPIO_InitStruct);
 309              		.loc 1 145 0
 310 0064 02A9     		add	r1, sp, #8
 311 0066 0948     		ldr	r0, .L7+8
 312 0068 FFF7FEFF 		bl	HAL_GPIO_Init
 313              	.LVL10:
 146:Src/setup.c   **** 
ARM GAS  C:\Users\Areg\AppData\Local\Temp\cc4EuRL1.s 			page 9


 147:Src/setup.c   **** 	DMA1_Channel2->CCR = 0;
 314              		.loc 1 147 0
 315 006c 084B     		ldr	r3, .L7+12
 316 006e 1C60     		str	r4, [r3]
 148:Src/setup.c   **** 	DMA1_Channel2->CPAR = (uint32_t) & (USART3->DR);
 317              		.loc 1 148 0
 318 0070 084A     		ldr	r2, .L7+16
 319 0072 9A60     		str	r2, [r3, #8]
 149:Src/setup.c   **** 	DMA1_Channel2->CNDTR = 0;
 320              		.loc 1 149 0
 321 0074 5C60     		str	r4, [r3, #4]
 150:Src/setup.c   **** 	DMA1_Channel2->CCR = DMA_CCR_MINC | DMA_CCR_DIR;
 322              		.loc 1 150 0
 323 0076 9022     		movs	r2, #144
 324 0078 1A60     		str	r2, [r3]
 151:Src/setup.c   **** 	DMA1->IFCR = DMA_IFCR_CTCIF2 | DMA_IFCR_CHTIF2 | DMA_IFCR_CGIF2;
 325              		.loc 1 151 0
 326 007a 7022     		movs	r2, #112
 327 007c 1C3B     		subs	r3, r3, #28
 328 007e 5A60     		str	r2, [r3, #4]
 152:Src/setup.c   **** }
 329              		.loc 1 152 0
 330 0080 17B0     		add	sp, sp, #92
 331              	.LCFI5:
 332              		.cfi_def_cfa_offset 12
 333              		@ sp needed
 334 0082 30BD     		pop	{r4, r5, pc}
 335              	.L8:
 336              		.align	2
 337              	.L7:
 338 0084 00100240 		.word	1073876992
 339 0088 00480040 		.word	1073760256
 340 008c 000C0140 		.word	1073810432
 341 0090 1C000240 		.word	1073872924
 342 0094 04480040 		.word	1073760260
 343              		.cfi_endproc
 344              	.LFE65:
 346              		.section	.text.I2C_Init,"ax",%progbits
 347              		.align	2
 348              		.global	I2C_Init
 349              		.thumb
 350              		.thumb_func
 352              	I2C_Init:
 353              	.LFB66:
 153:Src/setup.c   **** #endif
 154:Src/setup.c   **** 
 155:Src/setup.c   **** #ifdef DEBUG_SERIAL_USART2
 156:Src/setup.c   **** void UART_Init() {
 157:Src/setup.c   **** 	__HAL_RCC_USART2_CLK_ENABLE();
 158:Src/setup.c   **** 	__HAL_RCC_DMA1_CLK_ENABLE();
 159:Src/setup.c   **** 
 160:Src/setup.c   **** 	UART_HandleTypeDef huart2;
 161:Src/setup.c   **** 	huart2.Instance = USART2;
 162:Src/setup.c   **** 	huart2.Init.BaudRate = DEBUG_BAUD;
 163:Src/setup.c   **** 	huart2.Init.WordLength = UART_WORDLENGTH_8B;
 164:Src/setup.c   **** 	huart2.Init.StopBits = UART_STOPBITS_1;
 165:Src/setup.c   **** 	huart2.Init.Parity = UART_PARITY_NONE;
ARM GAS  C:\Users\Areg\AppData\Local\Temp\cc4EuRL1.s 			page 10


 166:Src/setup.c   **** 	huart2.Init.Mode = UART_MODE_TX;
 167:Src/setup.c   **** 	huart2.Init.HwFlowCtl = UART_HWCONTROL_NONE;
 168:Src/setup.c   **** 	huart2.Init.OverSampling = UART_OVERSAMPLING_16;
 169:Src/setup.c   **** 	HAL_UART_Init(&huart2);
 170:Src/setup.c   **** 
 171:Src/setup.c   **** 	USART2->CR3 |= USART_CR3_DMAT; // | USART_CR3_DMAR | USART_CR3_OVRDIS;
 172:Src/setup.c   **** 
 173:Src/setup.c   **** 	GPIO_InitTypeDef GPIO_InitStruct;
 174:Src/setup.c   **** 	GPIO_InitStruct.Pin = GPIO_PIN_2;
 175:Src/setup.c   **** 	GPIO_InitStruct.Pull = GPIO_PULLUP;
 176:Src/setup.c   **** 	GPIO_InitStruct.Mode = GPIO_MODE_AF_PP;
 177:Src/setup.c   **** 	GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_HIGH;
 178:Src/setup.c   **** 	HAL_GPIO_Init(GPIOA, &GPIO_InitStruct);
 179:Src/setup.c   **** 
 180:Src/setup.c   **** 	DMA1_Channel7->CCR = 0;
 181:Src/setup.c   **** 	DMA1_Channel7->CPAR = (uint32_t) & (USART2->DR);
 182:Src/setup.c   **** 	DMA1_Channel7->CNDTR = 0;
 183:Src/setup.c   **** 	DMA1_Channel7->CCR = DMA_CCR_MINC | DMA_CCR_DIR;
 184:Src/setup.c   **** 	DMA1->IFCR = DMA_IFCR_CTCIF7 | DMA_IFCR_CHTIF7 | DMA_IFCR_CGIF7;
 185:Src/setup.c   **** }
 186:Src/setup.c   **** #endif
 187:Src/setup.c   **** 
 188:Src/setup.c   **** /*
 189:Src/setup.c   **** void UART_Init() {
 190:Src/setup.c   ****   __HAL_RCC_USART2_CLK_ENABLE();
 191:Src/setup.c   ****   __HAL_RCC_DMA1_CLK_ENABLE();
 192:Src/setup.c   **** 
 193:Src/setup.c   ****   UART_HandleTypeDef huart2;
 194:Src/setup.c   ****   huart2.Instance          = USART2;
 195:Src/setup.c   ****   huart2.Init.BaudRate     = 115200;
 196:Src/setup.c   ****   huart2.Init.WordLength   = UART_WORDLENGTH_8B;
 197:Src/setup.c   ****   huart2.Init.StopBits     = UART_STOPBITS_1;
 198:Src/setup.c   ****   huart2.Init.Parity       = UART_PARITY_NONE;
 199:Src/setup.c   ****   huart2.Init.Mode         = UART_MODE_TX;
 200:Src/setup.c   ****   huart2.Init.HwFlowCtl    = UART_HWCONTROL_NONE;
 201:Src/setup.c   ****   huart2.Init.OverSampling = UART_OVERSAMPLING_16;
 202:Src/setup.c   ****   HAL_UART_Init(&huart2);
 203:Src/setup.c   **** 
 204:Src/setup.c   ****   USART2->CR3 |= USART_CR3_DMAT;  // | USART_CR3_DMAR | USART_CR3_OVRDIS;
 205:Src/setup.c   **** 
 206:Src/setup.c   ****   GPIO_InitTypeDef GPIO_InitStruct;
 207:Src/setup.c   ****   GPIO_InitStruct.Pin   = GPIO_PIN_2;
 208:Src/setup.c   ****   GPIO_InitStruct.Pull  = GPIO_PULLUP;
 209:Src/setup.c   ****   GPIO_InitStruct.Mode  = GPIO_MODE_AF_PP;
 210:Src/setup.c   ****   GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_HIGH;
 211:Src/setup.c   ****   HAL_GPIO_Init(GPIOA, &GPIO_InitStruct);
 212:Src/setup.c   **** 
 213:Src/setup.c   ****   DMA1_Channel7->CCR   = 0;
 214:Src/setup.c   ****   DMA1_Channel7->CPAR  = (uint32_t) & (USART3->DR);
 215:Src/setup.c   ****   DMA1_Channel7->CNDTR = 0;
 216:Src/setup.c   ****   DMA1_Channel7->CCR   = DMA_CCR_MINC | DMA_CCR_DIR;
 217:Src/setup.c   ****   DMA1->IFCR           = DMA_IFCR_CTCIF7 | DMA_IFCR_CHTIF7 | DMA_IFCR_CGIF7;
 218:Src/setup.c   **** }
 219:Src/setup.c   **** */
 220:Src/setup.c   **** 
 221:Src/setup.c   **** DMA_HandleTypeDef hdma_i2c2_rx;
 222:Src/setup.c   **** DMA_HandleTypeDef hdma_i2c2_tx;
ARM GAS  C:\Users\Areg\AppData\Local\Temp\cc4EuRL1.s 			page 11


 223:Src/setup.c   **** 
 224:Src/setup.c   **** void I2C_Init() {
 354              		.loc 1 224 0
 355              		.cfi_startproc
 356              		@ args = 0, pretend = 0, frame = 40
 357              		@ frame_needed = 0, uses_anonymous_args = 0
 358 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 359              	.LCFI6:
 360              		.cfi_def_cfa_offset 24
 361              		.cfi_offset 4, -24
 362              		.cfi_offset 5, -20
 363              		.cfi_offset 6, -16
 364              		.cfi_offset 7, -12
 365              		.cfi_offset 8, -8
 366              		.cfi_offset 14, -4
 367 0004 8AB0     		sub	sp, sp, #40
 368              	.LCFI7:
 369              		.cfi_def_cfa_offset 64
 370              	.LBB8:
 225:Src/setup.c   **** 
 226:Src/setup.c   **** 	__HAL_RCC_I2C2_CLK_ENABLE();
 371              		.loc 1 226 0
 372 0006 4A4D     		ldr	r5, .L11
 373 0008 EB69     		ldr	r3, [r5, #28]
 374 000a 43F48003 		orr	r3, r3, #4194304
 375 000e EB61     		str	r3, [r5, #28]
 376 0010 EB69     		ldr	r3, [r5, #28]
 377 0012 03F48003 		and	r3, r3, #4194304
 378 0016 0193     		str	r3, [sp, #4]
 379 0018 019B     		ldr	r3, [sp, #4]
 380              	.LBE8:
 381              	.LBB9:
 227:Src/setup.c   **** 	__HAL_RCC_DMA1_CLK_ENABLE();
 382              		.loc 1 227 0
 383 001a 6B69     		ldr	r3, [r5, #20]
 384 001c 43F00103 		orr	r3, r3, #1
 385 0020 6B61     		str	r3, [r5, #20]
 386 0022 6B69     		ldr	r3, [r5, #20]
 387 0024 03F00103 		and	r3, r3, #1
 388 0028 0293     		str	r3, [sp, #8]
 389 002a 029B     		ldr	r3, [sp, #8]
 390              	.LBE9:
 228:Src/setup.c   **** 
 229:Src/setup.c   **** 	/* DMA1_Channel4_IRQn interrupt configuration */
 230:Src/setup.c   **** 	HAL_NVIC_SetPriority(DMA1_Channel4_IRQn, 1, 4);
 391              		.loc 1 230 0
 392 002c 0422     		movs	r2, #4
 393 002e 0121     		movs	r1, #1
 394 0030 0E20     		movs	r0, #14
 395 0032 FFF7FEFF 		bl	HAL_NVIC_SetPriority
 396              	.LVL11:
 231:Src/setup.c   **** 	HAL_NVIC_EnableIRQ(DMA1_Channel4_IRQn);
 397              		.loc 1 231 0
 398 0036 0E20     		movs	r0, #14
 399 0038 FFF7FEFF 		bl	HAL_NVIC_EnableIRQ
 400              	.LVL12:
 232:Src/setup.c   **** 	/* DMA1_Channel5_IRQn interrupt configuration */
ARM GAS  C:\Users\Areg\AppData\Local\Temp\cc4EuRL1.s 			page 12


 233:Src/setup.c   **** 	HAL_NVIC_SetPriority(DMA1_Channel5_IRQn, 1, 3);
 401              		.loc 1 233 0
 402 003c 0322     		movs	r2, #3
 403 003e 0121     		movs	r1, #1
 404 0040 0F20     		movs	r0, #15
 405 0042 FFF7FEFF 		bl	HAL_NVIC_SetPriority
 406              	.LVL13:
 234:Src/setup.c   **** 	HAL_NVIC_EnableIRQ(DMA1_Channel5_IRQn);
 407              		.loc 1 234 0
 408 0046 0F20     		movs	r0, #15
 409 0048 FFF7FEFF 		bl	HAL_NVIC_EnableIRQ
 410              	.LVL14:
 235:Src/setup.c   **** 
 236:Src/setup.c   **** 	hi2c2.Instance = I2C2;
 411              		.loc 1 236 0
 412 004c 394E     		ldr	r6, .L11+4
 413 004e 3A4B     		ldr	r3, .L11+8
 414 0050 3360     		str	r3, [r6]
 237:Src/setup.c   **** 	hi2c2.Init.ClockSpeed = 100000;
 415              		.loc 1 237 0
 416 0052 3A4B     		ldr	r3, .L11+12
 417 0054 7360     		str	r3, [r6, #4]
 238:Src/setup.c   **** 	hi2c2.Init.DutyCycle = I2C_DUTYCYCLE_2;
 418              		.loc 1 238 0
 419 0056 0024     		movs	r4, #0
 420 0058 B460     		str	r4, [r6, #8]
 239:Src/setup.c   **** 	hi2c2.Init.OwnAddress1 = 0;
 421              		.loc 1 239 0
 422 005a F460     		str	r4, [r6, #12]
 240:Src/setup.c   **** 	hi2c2.Init.AddressingMode = I2C_ADDRESSINGMODE_7BIT;
 423              		.loc 1 240 0
 424 005c 4FF48043 		mov	r3, #16384
 425 0060 3361     		str	r3, [r6, #16]
 241:Src/setup.c   **** 	hi2c2.Init.DualAddressMode = I2C_DUALADDRESS_DISABLE;
 426              		.loc 1 241 0
 427 0062 7461     		str	r4, [r6, #20]
 242:Src/setup.c   **** 	hi2c2.Init.OwnAddress2 = 0;
 428              		.loc 1 242 0
 429 0064 B461     		str	r4, [r6, #24]
 243:Src/setup.c   **** 	hi2c2.Init.GeneralCallMode = I2C_GENERALCALL_DISABLE;
 430              		.loc 1 243 0
 431 0066 F461     		str	r4, [r6, #28]
 244:Src/setup.c   **** 	hi2c2.Init.NoStretchMode = I2C_NOSTRETCH_DISABLE;
 432              		.loc 1 244 0
 433 0068 3462     		str	r4, [r6, #32]
 245:Src/setup.c   **** 	HAL_I2C_Init(&hi2c2);
 434              		.loc 1 245 0
 435 006a 3046     		mov	r0, r6
 436 006c FFF7FEFF 		bl	HAL_I2C_Init
 437              	.LVL15:
 438              	.LBB10:
 246:Src/setup.c   **** 
 247:Src/setup.c   **** 	GPIO_InitTypeDef GPIO_InitStruct;
 248:Src/setup.c   **** 
 249:Src/setup.c   **** 	__HAL_RCC_DMA1_CLK_ENABLE();
 439              		.loc 1 249 0
 440 0070 6B69     		ldr	r3, [r5, #20]
ARM GAS  C:\Users\Areg\AppData\Local\Temp\cc4EuRL1.s 			page 13


 441 0072 43F00103 		orr	r3, r3, #1
 442 0076 6B61     		str	r3, [r5, #20]
 443 0078 6B69     		ldr	r3, [r5, #20]
 444 007a 03F00103 		and	r3, r3, #1
 445 007e 0393     		str	r3, [sp, #12]
 446 0080 039B     		ldr	r3, [sp, #12]
 447              	.LBE10:
 448              	.LBB11:
 250:Src/setup.c   **** 	__HAL_RCC_GPIOB_CLK_ENABLE();
 449              		.loc 1 250 0
 450 0082 AB69     		ldr	r3, [r5, #24]
 451 0084 43F00803 		orr	r3, r3, #8
 452 0088 AB61     		str	r3, [r5, #24]
 453 008a AB69     		ldr	r3, [r5, #24]
 454 008c 03F00803 		and	r3, r3, #8
 455 0090 0493     		str	r3, [sp, #16]
 456 0092 049B     		ldr	r3, [sp, #16]
 457              	.LBE11:
 251:Src/setup.c   **** 	/* USER CODE BEGIN I2C2_MspInit 0 */
 252:Src/setup.c   **** 
 253:Src/setup.c   **** 	/* USER CODE END I2C2_MspInit 0 */
 254:Src/setup.c   **** 
 255:Src/setup.c   **** 	/**I2C2 GPIO Configuration
 256:Src/setup.c   **** 	PB10     ------> I2C2_SCL
 257:Src/setup.c   **** 	PB11     ------> I2C2_SDA
 258:Src/setup.c   **** 	*/
 259:Src/setup.c   **** 	GPIO_InitStruct.Pin = GPIO_PIN_10 | GPIO_PIN_11;
 458              		.loc 1 259 0
 459 0094 4FF44063 		mov	r3, #3072
 460 0098 0693     		str	r3, [sp, #24]
 260:Src/setup.c   **** 	GPIO_InitStruct.Mode = GPIO_MODE_AF_OD;
 461              		.loc 1 260 0
 462 009a 1223     		movs	r3, #18
 463 009c 0793     		str	r3, [sp, #28]
 261:Src/setup.c   **** 	GPIO_InitStruct.Pull = GPIO_PULLUP;
 464              		.loc 1 261 0
 465 009e 0123     		movs	r3, #1
 466 00a0 0893     		str	r3, [sp, #32]
 262:Src/setup.c   **** 	GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_HIGH;
 467              		.loc 1 262 0
 468 00a2 0323     		movs	r3, #3
 469 00a4 0993     		str	r3, [sp, #36]
 263:Src/setup.c   **** 	HAL_GPIO_Init(GPIOB, &GPIO_InitStruct);
 470              		.loc 1 263 0
 471 00a6 06A9     		add	r1, sp, #24
 472 00a8 2548     		ldr	r0, .L11+16
 473 00aa FFF7FEFF 		bl	HAL_GPIO_Init
 474              	.LVL16:
 475              	.LBB12:
 264:Src/setup.c   **** 
 265:Src/setup.c   **** 	/* Peripheral clock enable */
 266:Src/setup.c   **** 	__HAL_RCC_I2C2_CLK_ENABLE();
 476              		.loc 1 266 0
 477 00ae EB69     		ldr	r3, [r5, #28]
 478 00b0 43F48003 		orr	r3, r3, #4194304
 479 00b4 EB61     		str	r3, [r5, #28]
 480 00b6 EB69     		ldr	r3, [r5, #28]
ARM GAS  C:\Users\Areg\AppData\Local\Temp\cc4EuRL1.s 			page 14


 481 00b8 03F48003 		and	r3, r3, #4194304
 482 00bc 0593     		str	r3, [sp, #20]
 483 00be 059B     		ldr	r3, [sp, #20]
 484              	.LBE12:
 267:Src/setup.c   **** 
 268:Src/setup.c   **** 	/* Peripheral DMA init*/
 269:Src/setup.c   **** 
 270:Src/setup.c   **** 	hdma_i2c2_rx.Instance = DMA1_Channel5;
 485              		.loc 1 270 0
 486 00c0 204D     		ldr	r5, .L11+20
 487 00c2 214B     		ldr	r3, .L11+24
 488 00c4 2B60     		str	r3, [r5]
 271:Src/setup.c   **** 	hdma_i2c2_rx.Init.Direction = DMA_PERIPH_TO_MEMORY;
 489              		.loc 1 271 0
 490 00c6 6C60     		str	r4, [r5, #4]
 272:Src/setup.c   **** 	hdma_i2c2_rx.Init.PeriphInc = DMA_PINC_DISABLE;
 491              		.loc 1 272 0
 492 00c8 AC60     		str	r4, [r5, #8]
 273:Src/setup.c   **** 	hdma_i2c2_rx.Init.MemInc = DMA_MINC_ENABLE;
 493              		.loc 1 273 0
 494 00ca 4FF08008 		mov	r8, #128
 495 00ce C5F80C80 		str	r8, [r5, #12]
 274:Src/setup.c   **** 	hdma_i2c2_rx.Init.PeriphDataAlignment = DMA_PDATAALIGN_BYTE;
 496              		.loc 1 274 0
 497 00d2 2C61     		str	r4, [r5, #16]
 275:Src/setup.c   **** 	hdma_i2c2_rx.Init.MemDataAlignment = DMA_MDATAALIGN_BYTE;
 498              		.loc 1 275 0
 499 00d4 6C61     		str	r4, [r5, #20]
 276:Src/setup.c   **** 	hdma_i2c2_rx.Init.Mode = DMA_NORMAL;
 500              		.loc 1 276 0
 501 00d6 AC61     		str	r4, [r5, #24]
 277:Src/setup.c   **** 	hdma_i2c2_rx.Init.Priority = DMA_PRIORITY_MEDIUM;
 502              		.loc 1 277 0
 503 00d8 4FF48057 		mov	r7, #4096
 504 00dc EF61     		str	r7, [r5, #28]
 278:Src/setup.c   **** 	HAL_DMA_Init(&hdma_i2c2_rx);
 505              		.loc 1 278 0
 506 00de 2846     		mov	r0, r5
 507 00e0 FFF7FEFF 		bl	HAL_DMA_Init
 508              	.LVL17:
 279:Src/setup.c   **** 
 280:Src/setup.c   **** 	__HAL_LINKDMA(&hi2c2, hdmarx, hdma_i2c2_rx);
 509              		.loc 1 280 0
 510 00e4 B563     		str	r5, [r6, #56]
 511 00e6 6E62     		str	r6, [r5, #36]
 281:Src/setup.c   **** 
 282:Src/setup.c   **** 	hdma_i2c2_tx.Instance = DMA1_Channel4;
 512              		.loc 1 282 0
 513 00e8 184D     		ldr	r5, .L11+28
 514 00ea 194B     		ldr	r3, .L11+32
 515 00ec 2B60     		str	r3, [r5]
 283:Src/setup.c   **** 	hdma_i2c2_tx.Init.Direction = DMA_MEMORY_TO_PERIPH;
 516              		.loc 1 283 0
 517 00ee 1023     		movs	r3, #16
 518 00f0 6B60     		str	r3, [r5, #4]
 284:Src/setup.c   **** 	hdma_i2c2_tx.Init.PeriphInc = DMA_PINC_DISABLE;
 519              		.loc 1 284 0
ARM GAS  C:\Users\Areg\AppData\Local\Temp\cc4EuRL1.s 			page 15


 520 00f2 AC60     		str	r4, [r5, #8]
 285:Src/setup.c   **** 	hdma_i2c2_tx.Init.MemInc = DMA_MINC_ENABLE;
 521              		.loc 1 285 0
 522 00f4 C5F80C80 		str	r8, [r5, #12]
 286:Src/setup.c   **** 	hdma_i2c2_tx.Init.PeriphDataAlignment = DMA_PDATAALIGN_BYTE;
 523              		.loc 1 286 0
 524 00f8 2C61     		str	r4, [r5, #16]
 287:Src/setup.c   **** 	hdma_i2c2_tx.Init.MemDataAlignment = DMA_MDATAALIGN_BYTE;
 525              		.loc 1 287 0
 526 00fa 6C61     		str	r4, [r5, #20]
 288:Src/setup.c   **** 	hdma_i2c2_tx.Init.Mode = DMA_NORMAL;
 527              		.loc 1 288 0
 528 00fc AC61     		str	r4, [r5, #24]
 289:Src/setup.c   **** 	hdma_i2c2_tx.Init.Priority = DMA_PRIORITY_MEDIUM;
 529              		.loc 1 289 0
 530 00fe EF61     		str	r7, [r5, #28]
 290:Src/setup.c   **** 	HAL_DMA_Init(&hdma_i2c2_tx);
 531              		.loc 1 290 0
 532 0100 2846     		mov	r0, r5
 533 0102 FFF7FEFF 		bl	HAL_DMA_Init
 534              	.LVL18:
 291:Src/setup.c   **** 
 292:Src/setup.c   **** 	__HAL_LINKDMA(&hi2c2, hdmatx, hdma_i2c2_tx);
 535              		.loc 1 292 0
 536 0106 7563     		str	r5, [r6, #52]
 537 0108 6E62     		str	r6, [r5, #36]
 293:Src/setup.c   **** 
 294:Src/setup.c   **** 	/* Peripheral interrupt init */
 295:Src/setup.c   **** 	HAL_NVIC_SetPriority(I2C2_EV_IRQn, 0, 0);
 538              		.loc 1 295 0
 539 010a 2246     		mov	r2, r4
 540 010c 2146     		mov	r1, r4
 541 010e 2120     		movs	r0, #33
 542 0110 FFF7FEFF 		bl	HAL_NVIC_SetPriority
 543              	.LVL19:
 296:Src/setup.c   **** 	HAL_NVIC_EnableIRQ(I2C2_EV_IRQn);
 544              		.loc 1 296 0
 545 0114 2120     		movs	r0, #33
 546 0116 FFF7FEFF 		bl	HAL_NVIC_EnableIRQ
 547              	.LVL20:
 297:Src/setup.c   **** 	HAL_NVIC_SetPriority(I2C2_ER_IRQn, 0, 0);
 548              		.loc 1 297 0
 549 011a 2246     		mov	r2, r4
 550 011c 2146     		mov	r1, r4
 551 011e 2220     		movs	r0, #34
 552 0120 FFF7FEFF 		bl	HAL_NVIC_SetPriority
 553              	.LVL21:
 298:Src/setup.c   **** 	HAL_NVIC_EnableIRQ(I2C2_ER_IRQn);
 554              		.loc 1 298 0
 555 0124 2220     		movs	r0, #34
 556 0126 FFF7FEFF 		bl	HAL_NVIC_EnableIRQ
 557              	.LVL22:
 299:Src/setup.c   **** 	/* USER CODE BEGIN I2C2_MspInit 1 */
 300:Src/setup.c   **** 
 301:Src/setup.c   **** 	/* USER CODE END I2C2_MspInit 1 */
 302:Src/setup.c   **** }
 558              		.loc 1 302 0
ARM GAS  C:\Users\Areg\AppData\Local\Temp\cc4EuRL1.s 			page 16


 559 012a 0AB0     		add	sp, sp, #40
 560              	.LCFI8:
 561              		.cfi_def_cfa_offset 24
 562              		@ sp needed
 563 012c BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 564              	.L12:
 565              		.align	2
 566              	.L11:
 567 0130 00100240 		.word	1073876992
 568 0134 00000000 		.word	hi2c2
 569 0138 00580040 		.word	1073764352
 570 013c A0860100 		.word	100000
 571 0140 000C0140 		.word	1073810432
 572 0144 00000000 		.word	hdma_i2c2_rx
 573 0148 58000240 		.word	1073872984
 574 014c 00000000 		.word	hdma_i2c2_tx
 575 0150 44000240 		.word	1073872964
 576              		.cfi_endproc
 577              	.LFE66:
 579              		.section	.text.MX_GPIO_Init,"ax",%progbits
 580              		.align	2
 581              		.global	MX_GPIO_Init
 582              		.thumb
 583              		.thumb_func
 585              	MX_GPIO_Init:
 586              	.LFB67:
 303:Src/setup.c   **** 
 304:Src/setup.c   **** void MX_GPIO_Init(void) {
 587              		.loc 1 304 0
 588              		.cfi_startproc
 589              		@ args = 0, pretend = 0, frame = 32
 590              		@ frame_needed = 0, uses_anonymous_args = 0
 591 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 592              	.LCFI9:
 593              		.cfi_def_cfa_offset 36
 594              		.cfi_offset 4, -36
 595              		.cfi_offset 5, -32
 596              		.cfi_offset 6, -28
 597              		.cfi_offset 7, -24
 598              		.cfi_offset 8, -20
 599              		.cfi_offset 9, -16
 600              		.cfi_offset 10, -12
 601              		.cfi_offset 11, -8
 602              		.cfi_offset 14, -4
 603 0004 89B0     		sub	sp, sp, #36
 604              	.LCFI10:
 605              		.cfi_def_cfa_offset 72
 606              	.LBB13:
 305:Src/setup.c   **** 	GPIO_InitTypeDef GPIO_InitStruct;
 306:Src/setup.c   **** 
 307:Src/setup.c   **** 	/* GPIO Ports Clock Enable */
 308:Src/setup.c   **** 	__HAL_RCC_GPIOA_CLK_ENABLE();
 607              		.loc 1 308 0
 608 0006 7B4B     		ldr	r3, .L15
 609 0008 9A69     		ldr	r2, [r3, #24]
 610 000a 42F00402 		orr	r2, r2, #4
 611 000e 9A61     		str	r2, [r3, #24]
ARM GAS  C:\Users\Areg\AppData\Local\Temp\cc4EuRL1.s 			page 17


 612 0010 9A69     		ldr	r2, [r3, #24]
 613 0012 02F00402 		and	r2, r2, #4
 614 0016 0192     		str	r2, [sp, #4]
 615 0018 019A     		ldr	r2, [sp, #4]
 616              	.LBE13:
 617              	.LBB14:
 309:Src/setup.c   **** 	__HAL_RCC_GPIOB_CLK_ENABLE();
 618              		.loc 1 309 0
 619 001a 9A69     		ldr	r2, [r3, #24]
 620 001c 42F00802 		orr	r2, r2, #8
 621 0020 9A61     		str	r2, [r3, #24]
 622 0022 9A69     		ldr	r2, [r3, #24]
 623 0024 02F00802 		and	r2, r2, #8
 624 0028 0292     		str	r2, [sp, #8]
 625 002a 029A     		ldr	r2, [sp, #8]
 626              	.LBE14:
 627              	.LBB15:
 310:Src/setup.c   **** 	__HAL_RCC_GPIOC_CLK_ENABLE();
 628              		.loc 1 310 0
 629 002c 9A69     		ldr	r2, [r3, #24]
 630 002e 42F01002 		orr	r2, r2, #16
 631 0032 9A61     		str	r2, [r3, #24]
 632 0034 9B69     		ldr	r3, [r3, #24]
 633 0036 03F01003 		and	r3, r3, #16
 634 003a 0393     		str	r3, [sp, #12]
 635 003c 039B     		ldr	r3, [sp, #12]
 636              	.LBE15:
 311:Src/setup.c   **** 
 312:Src/setup.c   **** 	GPIO_InitStruct.Mode = GPIO_MODE_INPUT;
 637              		.loc 1 312 0
 638 003e 0023     		movs	r3, #0
 639 0040 0593     		str	r3, [sp, #20]
 313:Src/setup.c   **** 	GPIO_InitStruct.Pull = GPIO_NOPULL;
 640              		.loc 1 313 0
 641 0042 0693     		str	r3, [sp, #24]
 314:Src/setup.c   **** 	GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_LOW;
 642              		.loc 1 314 0
 643 0044 0227     		movs	r7, #2
 644 0046 0797     		str	r7, [sp, #28]
 315:Src/setup.c   **** 
 316:Src/setup.c   **** 	GPIO_InitStruct.Pin = LEFT_HALL_U_PIN;
 645              		.loc 1 316 0
 646 0048 4FF0200A 		mov	r10, #32
 647 004c 0DEB0A04 		add	r4, sp, r10
 648 0050 44F810AD 		str	r10, [r4, #-16]!
 317:Src/setup.c   **** 	HAL_GPIO_Init(LEFT_HALL_U_PORT, &GPIO_InitStruct);
 649              		.loc 1 317 0
 650 0054 2146     		mov	r1, r4
 651 0056 6848     		ldr	r0, .L15+4
 652 0058 FFF7FEFF 		bl	HAL_GPIO_Init
 653              	.LVL23:
 318:Src/setup.c   **** 
 319:Src/setup.c   **** 	GPIO_InitStruct.Pin = LEFT_HALL_V_PIN;
 654              		.loc 1 319 0
 655 005c 4023     		movs	r3, #64
 656 005e 0493     		str	r3, [sp, #16]
 320:Src/setup.c   **** 	HAL_GPIO_Init(LEFT_HALL_V_PORT, &GPIO_InitStruct);
ARM GAS  C:\Users\Areg\AppData\Local\Temp\cc4EuRL1.s 			page 18


 657              		.loc 1 320 0
 658 0060 2146     		mov	r1, r4
 659 0062 6548     		ldr	r0, .L15+4
 660 0064 FFF7FEFF 		bl	HAL_GPIO_Init
 661              	.LVL24:
 321:Src/setup.c   **** 
 322:Src/setup.c   **** 	GPIO_InitStruct.Pin = LEFT_HALL_W_PIN;
 662              		.loc 1 322 0
 663 0068 8025     		movs	r5, #128
 664 006a 0495     		str	r5, [sp, #16]
 323:Src/setup.c   **** 	HAL_GPIO_Init(LEFT_HALL_W_PORT, &GPIO_InitStruct);
 665              		.loc 1 323 0
 666 006c 2146     		mov	r1, r4
 667 006e 6248     		ldr	r0, .L15+4
 668 0070 FFF7FEFF 		bl	HAL_GPIO_Init
 669              	.LVL25:
 324:Src/setup.c   **** 
 325:Src/setup.c   **** 	GPIO_InitStruct.Pin = RIGHT_HALL_U_PIN;
 670              		.loc 1 325 0
 671 0074 4FF48063 		mov	r3, #1024
 672 0078 0493     		str	r3, [sp, #16]
 326:Src/setup.c   **** 	HAL_GPIO_Init(RIGHT_HALL_U_PORT, &GPIO_InitStruct);
 673              		.loc 1 326 0
 674 007a 2146     		mov	r1, r4
 675 007c 5F48     		ldr	r0, .L15+8
 676 007e FFF7FEFF 		bl	HAL_GPIO_Init
 677              	.LVL26:
 327:Src/setup.c   **** 
 328:Src/setup.c   **** 	GPIO_InitStruct.Pin = RIGHT_HALL_V_PIN;
 678              		.loc 1 328 0
 679 0082 4FF40063 		mov	r3, #2048
 680 0086 0493     		str	r3, [sp, #16]
 329:Src/setup.c   **** 	HAL_GPIO_Init(RIGHT_HALL_V_PORT, &GPIO_InitStruct);
 681              		.loc 1 329 0
 682 0088 2146     		mov	r1, r4
 683 008a 5C48     		ldr	r0, .L15+8
 684 008c FFF7FEFF 		bl	HAL_GPIO_Init
 685              	.LVL27:
 330:Src/setup.c   **** 
 331:Src/setup.c   **** 	GPIO_InitStruct.Pin = RIGHT_HALL_W_PIN;
 686              		.loc 1 331 0
 687 0090 4FF48056 		mov	r6, #4096
 688 0094 0496     		str	r6, [sp, #16]
 332:Src/setup.c   **** 	HAL_GPIO_Init(RIGHT_HALL_W_PORT, &GPIO_InitStruct);
 689              		.loc 1 332 0
 690 0096 2146     		mov	r1, r4
 691 0098 5848     		ldr	r0, .L15+8
 692 009a FFF7FEFF 		bl	HAL_GPIO_Init
 693              	.LVL28:
 333:Src/setup.c   **** 
 334:Src/setup.c   **** 	GPIO_InitStruct.Pin = CHARGER_PIN;
 694              		.loc 1 334 0
 695 009e 0496     		str	r6, [sp, #16]
 335:Src/setup.c   **** 	HAL_GPIO_Init(CHARGER_PORT, &GPIO_InitStruct);
 696              		.loc 1 335 0
 697 00a0 2146     		mov	r1, r4
 698 00a2 5748     		ldr	r0, .L15+12
ARM GAS  C:\Users\Areg\AppData\Local\Temp\cc4EuRL1.s 			page 19


 699 00a4 FFF7FEFF 		bl	HAL_GPIO_Init
 700              	.LVL29:
 336:Src/setup.c   **** 
 337:Src/setup.c   **** 	GPIO_InitStruct.Pin = BUTTON_PIN;
 701              		.loc 1 337 0
 702 00a8 0497     		str	r7, [sp, #16]
 338:Src/setup.c   **** 	HAL_GPIO_Init(BUTTON_PORT, &GPIO_InitStruct);
 703              		.loc 1 338 0
 704 00aa 2146     		mov	r1, r4
 705 00ac 5448     		ldr	r0, .L15+12
 706 00ae FFF7FEFF 		bl	HAL_GPIO_Init
 707              	.LVL30:
 339:Src/setup.c   **** 
 340:Src/setup.c   **** 	GPIO_InitStruct.Mode = GPIO_MODE_OUTPUT_PP;
 708              		.loc 1 340 0
 709 00b2 4FF00108 		mov	r8, #1
 710 00b6 CDF81480 		str	r8, [sp, #20]
 341:Src/setup.c   **** 
 342:Src/setup.c   **** 	GPIO_InitStruct.Pin = LED_PIN;
 711              		.loc 1 342 0
 712 00ba 4FF00409 		mov	r9, #4
 713 00be CDF81090 		str	r9, [sp, #16]
 343:Src/setup.c   **** 	HAL_GPIO_Init(LED_PORT, &GPIO_InitStruct);
 714              		.loc 1 343 0
 715 00c2 2146     		mov	r1, r4
 716 00c4 4C48     		ldr	r0, .L15+4
 717 00c6 FFF7FEFF 		bl	HAL_GPIO_Init
 718              	.LVL31:
 344:Src/setup.c   **** 
 345:Src/setup.c   **** 	GPIO_InitStruct.Pin = BUZZER_PIN;
 719              		.loc 1 345 0
 720 00ca 1026     		movs	r6, #16
 721 00cc 0496     		str	r6, [sp, #16]
 346:Src/setup.c   **** 	HAL_GPIO_Init(BUZZER_PORT, &GPIO_InitStruct);
 722              		.loc 1 346 0
 723 00ce 2146     		mov	r1, r4
 724 00d0 4B48     		ldr	r0, .L15+12
 725 00d2 FFF7FEFF 		bl	HAL_GPIO_Init
 726              	.LVL32:
 347:Src/setup.c   **** 
 348:Src/setup.c   **** 	GPIO_InitStruct.Pin = OFF_PIN;
 727              		.loc 1 348 0
 728 00d6 CDF810A0 		str	r10, [sp, #16]
 349:Src/setup.c   **** 	HAL_GPIO_Init(OFF_PORT, &GPIO_InitStruct);
 729              		.loc 1 349 0
 730 00da 2146     		mov	r1, r4
 731 00dc 4848     		ldr	r0, .L15+12
 732 00de FFF7FEFF 		bl	HAL_GPIO_Init
 733              	.LVL33:
 350:Src/setup.c   **** 
 351:Src/setup.c   **** 	GPIO_InitStruct.Mode = GPIO_MODE_ANALOG;
 734              		.loc 1 351 0
 735 00e2 0323     		movs	r3, #3
 736 00e4 0593     		str	r3, [sp, #20]
 352:Src/setup.c   **** 
 353:Src/setup.c   **** 	GPIO_InitStruct.Pin = LEFT_DC_CUR_PIN;
 737              		.loc 1 353 0
ARM GAS  C:\Users\Areg\AppData\Local\Temp\cc4EuRL1.s 			page 20


 738 00e6 CDF81080 		str	r8, [sp, #16]
 354:Src/setup.c   **** 	HAL_GPIO_Init(LEFT_DC_CUR_PORT, &GPIO_InitStruct);
 739              		.loc 1 354 0
 740 00ea 2146     		mov	r1, r4
 741 00ec 4348     		ldr	r0, .L15+8
 742 00ee FFF7FEFF 		bl	HAL_GPIO_Init
 743              	.LVL34:
 355:Src/setup.c   **** 
 356:Src/setup.c   **** 	GPIO_InitStruct.Pin = LEFT_U_CUR_PIN;
 744              		.loc 1 356 0
 745 00f2 CDF81080 		str	r8, [sp, #16]
 357:Src/setup.c   **** 	HAL_GPIO_Init(LEFT_U_CUR_PORT, &GPIO_InitStruct);
 746              		.loc 1 357 0
 747 00f6 2146     		mov	r1, r4
 748 00f8 4148     		ldr	r0, .L15+12
 749 00fa FFF7FEFF 		bl	HAL_GPIO_Init
 750              	.LVL35:
 358:Src/setup.c   **** 
 359:Src/setup.c   **** 	GPIO_InitStruct.Pin = LEFT_V_CUR_PIN;
 751              		.loc 1 359 0
 752 00fe 4FF0080B 		mov	fp, #8
 753 0102 CDF810B0 		str	fp, [sp, #16]
 360:Src/setup.c   **** 	HAL_GPIO_Init(LEFT_V_CUR_PORT, &GPIO_InitStruct);
 754              		.loc 1 360 0
 755 0106 2146     		mov	r1, r4
 756 0108 3C48     		ldr	r0, .L15+8
 757 010a FFF7FEFF 		bl	HAL_GPIO_Init
 758              	.LVL36:
 361:Src/setup.c   **** 
 362:Src/setup.c   **** 	GPIO_InitStruct.Pin = RIGHT_DC_CUR_PIN;
 759              		.loc 1 362 0
 760 010e 0497     		str	r7, [sp, #16]
 363:Src/setup.c   **** 	HAL_GPIO_Init(RIGHT_DC_CUR_PORT, &GPIO_InitStruct);
 761              		.loc 1 363 0
 762 0110 2146     		mov	r1, r4
 763 0112 3A48     		ldr	r0, .L15+8
 764 0114 FFF7FEFF 		bl	HAL_GPIO_Init
 765              	.LVL37:
 364:Src/setup.c   **** 
 365:Src/setup.c   **** 	GPIO_InitStruct.Pin = RIGHT_U_CUR_PIN;
 766              		.loc 1 365 0
 767 0118 0496     		str	r6, [sp, #16]
 366:Src/setup.c   **** 	HAL_GPIO_Init(RIGHT_U_CUR_PORT, &GPIO_InitStruct);
 768              		.loc 1 366 0
 769 011a 2146     		mov	r1, r4
 770 011c 3748     		ldr	r0, .L15+8
 771 011e FFF7FEFF 		bl	HAL_GPIO_Init
 772              	.LVL38:
 367:Src/setup.c   **** 
 368:Src/setup.c   **** 	GPIO_InitStruct.Pin = RIGHT_V_CUR_PIN;
 773              		.loc 1 368 0
 774 0122 CDF810A0 		str	r10, [sp, #16]
 369:Src/setup.c   **** 	HAL_GPIO_Init(RIGHT_V_CUR_PORT, &GPIO_InitStruct);
 775              		.loc 1 369 0
 776 0126 2146     		mov	r1, r4
 777 0128 3448     		ldr	r0, .L15+8
 778 012a FFF7FEFF 		bl	HAL_GPIO_Init
ARM GAS  C:\Users\Areg\AppData\Local\Temp\cc4EuRL1.s 			page 21


 779              	.LVL39:
 370:Src/setup.c   **** 
 371:Src/setup.c   **** 	GPIO_InitStruct.Pin = DCLINK_PIN;
 780              		.loc 1 371 0
 781 012e CDF81090 		str	r9, [sp, #16]
 372:Src/setup.c   **** 	HAL_GPIO_Init(DCLINK_PORT, &GPIO_InitStruct);
 782              		.loc 1 372 0
 783 0132 2146     		mov	r1, r4
 784 0134 3148     		ldr	r0, .L15+8
 785 0136 FFF7FEFF 		bl	HAL_GPIO_Init
 786              	.LVL40:
 373:Src/setup.c   **** 
 374:Src/setup.c   **** 	// Analog in
 375:Src/setup.c   **** 	GPIO_InitStruct.Pin = GPIO_PIN_3;
 787              		.loc 1 375 0
 788 013a CDF810B0 		str	fp, [sp, #16]
 376:Src/setup.c   **** 	HAL_GPIO_Init(GPIOA, &GPIO_InitStruct);
 789              		.loc 1 376 0
 790 013e 2146     		mov	r1, r4
 791 0140 2F48     		ldr	r0, .L15+12
 792 0142 FFF7FEFF 		bl	HAL_GPIO_Init
 793              	.LVL41:
 377:Src/setup.c   **** 	GPIO_InitStruct.Pin = GPIO_PIN_2;
 794              		.loc 1 377 0
 795 0146 CDF81090 		str	r9, [sp, #16]
 378:Src/setup.c   **** 	HAL_GPIO_Init(GPIOA, &GPIO_InitStruct);
 796              		.loc 1 378 0
 797 014a 2146     		mov	r1, r4
 798 014c 2C48     		ldr	r0, .L15+12
 799 014e FFF7FEFF 		bl	HAL_GPIO_Init
 800              	.LVL42:
 379:Src/setup.c   **** 
 380:Src/setup.c   **** 	GPIO_InitStruct.Mode = GPIO_MODE_AF_PP;
 801              		.loc 1 380 0
 802 0152 0597     		str	r7, [sp, #20]
 381:Src/setup.c   **** 
 382:Src/setup.c   **** 	GPIO_InitStruct.Pin = LEFT_TIM_UH_PIN;
 803              		.loc 1 382 0
 804 0154 4023     		movs	r3, #64
 805 0156 0493     		str	r3, [sp, #16]
 383:Src/setup.c   **** 	HAL_GPIO_Init(LEFT_TIM_UH_PORT, &GPIO_InitStruct);
 806              		.loc 1 383 0
 807 0158 2146     		mov	r1, r4
 808 015a 2848     		ldr	r0, .L15+8
 809 015c FFF7FEFF 		bl	HAL_GPIO_Init
 810              	.LVL43:
 384:Src/setup.c   **** 
 385:Src/setup.c   **** 	GPIO_InitStruct.Pin = LEFT_TIM_VH_PIN;
 811              		.loc 1 385 0
 812 0160 0495     		str	r5, [sp, #16]
 386:Src/setup.c   **** 	HAL_GPIO_Init(LEFT_TIM_VH_PORT, &GPIO_InitStruct);
 813              		.loc 1 386 0
 814 0162 2146     		mov	r1, r4
 815 0164 2548     		ldr	r0, .L15+8
 816 0166 FFF7FEFF 		bl	HAL_GPIO_Init
 817              	.LVL44:
 387:Src/setup.c   **** 
ARM GAS  C:\Users\Areg\AppData\Local\Temp\cc4EuRL1.s 			page 22


 388:Src/setup.c   **** 	GPIO_InitStruct.Pin = LEFT_TIM_WH_PIN;
 818              		.loc 1 388 0
 819 016a 4FF48079 		mov	r9, #256
 820 016e CDF81090 		str	r9, [sp, #16]
 389:Src/setup.c   **** 	HAL_GPIO_Init(LEFT_TIM_WH_PORT, &GPIO_InitStruct);
 821              		.loc 1 389 0
 822 0172 2146     		mov	r1, r4
 823 0174 2148     		ldr	r0, .L15+8
 824 0176 FFF7FEFF 		bl	HAL_GPIO_Init
 825              	.LVL45:
 390:Src/setup.c   **** 
 391:Src/setup.c   **** 	GPIO_InitStruct.Pin = LEFT_TIM_UL_PIN;
 826              		.loc 1 391 0
 827 017a 0495     		str	r5, [sp, #16]
 392:Src/setup.c   **** 	HAL_GPIO_Init(LEFT_TIM_UL_PORT, &GPIO_InitStruct);
 828              		.loc 1 392 0
 829 017c 2146     		mov	r1, r4
 830 017e 2048     		ldr	r0, .L15+12
 831 0180 FFF7FEFF 		bl	HAL_GPIO_Init
 832              	.LVL46:
 393:Src/setup.c   **** 
 394:Src/setup.c   **** 	GPIO_InitStruct.Pin = LEFT_TIM_VL_PIN;
 833              		.loc 1 394 0
 834 0184 CDF81080 		str	r8, [sp, #16]
 395:Src/setup.c   **** 	HAL_GPIO_Init(LEFT_TIM_VL_PORT, &GPIO_InitStruct);
 835              		.loc 1 395 0
 836 0188 2146     		mov	r1, r4
 837 018a 1B48     		ldr	r0, .L15+4
 838 018c FFF7FEFF 		bl	HAL_GPIO_Init
 839              	.LVL47:
 396:Src/setup.c   **** 
 397:Src/setup.c   **** 	GPIO_InitStruct.Pin = LEFT_TIM_WL_PIN;
 840              		.loc 1 397 0
 841 0190 0497     		str	r7, [sp, #16]
 398:Src/setup.c   **** 	HAL_GPIO_Init(LEFT_TIM_WL_PORT, &GPIO_InitStruct);
 842              		.loc 1 398 0
 843 0192 2146     		mov	r1, r4
 844 0194 1848     		ldr	r0, .L15+4
 845 0196 FFF7FEFF 		bl	HAL_GPIO_Init
 846              	.LVL48:
 399:Src/setup.c   **** 
 400:Src/setup.c   **** 	GPIO_InitStruct.Pin = RIGHT_TIM_UH_PIN;
 847              		.loc 1 400 0
 848 019a CDF81090 		str	r9, [sp, #16]
 401:Src/setup.c   **** 	HAL_GPIO_Init(RIGHT_TIM_UH_PORT, &GPIO_InitStruct);
 849              		.loc 1 401 0
 850 019e 2146     		mov	r1, r4
 851 01a0 1748     		ldr	r0, .L15+12
 852 01a2 FFF7FEFF 		bl	HAL_GPIO_Init
 853              	.LVL49:
 402:Src/setup.c   **** 
 403:Src/setup.c   **** 	GPIO_InitStruct.Pin = RIGHT_TIM_VH_PIN;
 854              		.loc 1 403 0
 855 01a6 4FF40073 		mov	r3, #512
 856 01aa 0493     		str	r3, [sp, #16]
 404:Src/setup.c   **** 	HAL_GPIO_Init(RIGHT_TIM_VH_PORT, &GPIO_InitStruct);
 857              		.loc 1 404 0
ARM GAS  C:\Users\Areg\AppData\Local\Temp\cc4EuRL1.s 			page 23


 858 01ac 2146     		mov	r1, r4
 859 01ae 1448     		ldr	r0, .L15+12
 860 01b0 FFF7FEFF 		bl	HAL_GPIO_Init
 861              	.LVL50:
 405:Src/setup.c   **** 
 406:Src/setup.c   **** 	GPIO_InitStruct.Pin = RIGHT_TIM_WH_PIN;
 862              		.loc 1 406 0
 863 01b4 4FF48063 		mov	r3, #1024
 864 01b8 0493     		str	r3, [sp, #16]
 407:Src/setup.c   **** 	HAL_GPIO_Init(RIGHT_TIM_WH_PORT, &GPIO_InitStruct);
 865              		.loc 1 407 0
 866 01ba 2146     		mov	r1, r4
 867 01bc 1048     		ldr	r0, .L15+12
 868 01be FFF7FEFF 		bl	HAL_GPIO_Init
 869              	.LVL51:
 408:Src/setup.c   **** 
 409:Src/setup.c   **** 	GPIO_InitStruct.Pin = RIGHT_TIM_UL_PIN;
 870              		.loc 1 409 0
 871 01c2 4FF40053 		mov	r3, #8192
 872 01c6 0493     		str	r3, [sp, #16]
 410:Src/setup.c   **** 	HAL_GPIO_Init(RIGHT_TIM_UL_PORT, &GPIO_InitStruct);
 873              		.loc 1 410 0
 874 01c8 2146     		mov	r1, r4
 875 01ca 0B48     		ldr	r0, .L15+4
 876 01cc FFF7FEFF 		bl	HAL_GPIO_Init
 877              	.LVL52:
 411:Src/setup.c   **** 
 412:Src/setup.c   **** 	GPIO_InitStruct.Pin = RIGHT_TIM_VL_PIN;
 878              		.loc 1 412 0
 879 01d0 4FF48043 		mov	r3, #16384
 880 01d4 0493     		str	r3, [sp, #16]
 413:Src/setup.c   **** 	HAL_GPIO_Init(RIGHT_TIM_VL_PORT, &GPIO_InitStruct);
 881              		.loc 1 413 0
 882 01d6 2146     		mov	r1, r4
 883 01d8 0748     		ldr	r0, .L15+4
 884 01da FFF7FEFF 		bl	HAL_GPIO_Init
 885              	.LVL53:
 414:Src/setup.c   **** 
 415:Src/setup.c   **** 	GPIO_InitStruct.Pin = RIGHT_TIM_WL_PIN;
 886              		.loc 1 415 0
 887 01de 4FF40043 		mov	r3, #32768
 888 01e2 0493     		str	r3, [sp, #16]
 416:Src/setup.c   **** 	HAL_GPIO_Init(RIGHT_TIM_WL_PORT, &GPIO_InitStruct);
 889              		.loc 1 416 0
 890 01e4 2146     		mov	r1, r4
 891 01e6 0448     		ldr	r0, .L15+4
 892 01e8 FFF7FEFF 		bl	HAL_GPIO_Init
 893              	.LVL54:
 417:Src/setup.c   **** }
 894              		.loc 1 417 0
 895 01ec 09B0     		add	sp, sp, #36
 896              	.LCFI11:
 897              		.cfi_def_cfa_offset 36
 898              		@ sp needed
 899 01ee BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 900              	.L16:
 901 01f2 00BF     		.align	2
ARM GAS  C:\Users\Areg\AppData\Local\Temp\cc4EuRL1.s 			page 24


 902              	.L15:
 903 01f4 00100240 		.word	1073876992
 904 01f8 000C0140 		.word	1073810432
 905 01fc 00100140 		.word	1073811456
 906 0200 00080140 		.word	1073809408
 907              		.cfi_endproc
 908              	.LFE67:
 910              		.section	.text.MX_TIM_Init,"ax",%progbits
 911              		.align	2
 912              		.global	MX_TIM_Init
 913              		.thumb
 914              		.thumb_func
 916              	MX_TIM_Init:
 917              	.LFB68:
 418:Src/setup.c   **** 
 419:Src/setup.c   **** void MX_TIM_Init(void) {
 918              		.loc 1 419 0
 919              		.cfi_startproc
 920              		@ args = 0, pretend = 0, frame = 96
 921              		@ frame_needed = 0, uses_anonymous_args = 0
 922 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 923              	.LCFI12:
 924              		.cfi_def_cfa_offset 36
 925              		.cfi_offset 4, -36
 926              		.cfi_offset 5, -32
 927              		.cfi_offset 6, -28
 928              		.cfi_offset 7, -24
 929              		.cfi_offset 8, -20
 930              		.cfi_offset 9, -16
 931              		.cfi_offset 10, -12
 932              		.cfi_offset 11, -8
 933              		.cfi_offset 14, -4
 934 0004 99B0     		sub	sp, sp, #100
 935              	.LCFI13:
 936              		.cfi_def_cfa_offset 136
 937              	.LBB16:
 420:Src/setup.c   **** 	__HAL_RCC_TIM1_CLK_ENABLE();
 938              		.loc 1 420 0
 939 0006 754B     		ldr	r3, .L19
 940 0008 9A69     		ldr	r2, [r3, #24]
 941 000a 42F40062 		orr	r2, r2, #2048
 942 000e 9A61     		str	r2, [r3, #24]
 943 0010 9A69     		ldr	r2, [r3, #24]
 944 0012 02F40062 		and	r2, r2, #2048
 945 0016 0192     		str	r2, [sp, #4]
 946 0018 019A     		ldr	r2, [sp, #4]
 947              	.LBE16:
 948              	.LBB17:
 421:Src/setup.c   **** 	__HAL_RCC_TIM8_CLK_ENABLE();
 949              		.loc 1 421 0
 950 001a 9A69     		ldr	r2, [r3, #24]
 951 001c 42F40052 		orr	r2, r2, #8192
 952 0020 9A61     		str	r2, [r3, #24]
 953 0022 9B69     		ldr	r3, [r3, #24]
 954 0024 03F40053 		and	r3, r3, #8192
 955 0028 0293     		str	r3, [sp, #8]
 956 002a 029B     		ldr	r3, [sp, #8]
ARM GAS  C:\Users\Areg\AppData\Local\Temp\cc4EuRL1.s 			page 25


 957              	.LBE17:
 422:Src/setup.c   **** 
 423:Src/setup.c   **** 	TIM_MasterConfigTypeDef sMasterConfig;
 424:Src/setup.c   **** 	TIM_OC_InitTypeDef sConfigOC;
 425:Src/setup.c   **** 	TIM_BreakDeadTimeConfigTypeDef sBreakDeadTimeConfig;
 426:Src/setup.c   **** 	TIM_SlaveConfigTypeDef sTimConfig;
 427:Src/setup.c   **** 
 428:Src/setup.c   **** 	htim_right.Instance = RIGHT_TIM;
 958              		.loc 1 428 0
 959 002c 6C4E     		ldr	r6, .L19+4
 960 002e DFF8B891 		ldr	r9, .L19+12
 961 0032 C6F80090 		str	r9, [r6]
 429:Src/setup.c   **** 	htim_right.Init.Prescaler = 0;
 962              		.loc 1 429 0
 963 0036 0024     		movs	r4, #0
 964 0038 7460     		str	r4, [r6, #4]
 430:Src/setup.c   **** 	htim_right.Init.CounterMode = TIM_COUNTERMODE_CENTERALIGNED1;
 965              		.loc 1 430 0
 966 003a 4FF02008 		mov	r8, #32
 967 003e C6F80880 		str	r8, [r6, #8]
 431:Src/setup.c   **** 	htim_right.Init.Period = 64000000 / 2 / PWM_FREQ;
 968              		.loc 1 431 0
 969 0042 4FF4FA6B 		mov	fp, #2000
 970 0046 C6F80CB0 		str	fp, [r6, #12]
 432:Src/setup.c   **** 	htim_right.Init.ClockDivision = TIM_CLOCKDIVISION_DIV1;
 971              		.loc 1 432 0
 972 004a 3461     		str	r4, [r6, #16]
 433:Src/setup.c   **** 	htim_right.Init.RepetitionCounter = 0;
 973              		.loc 1 433 0
 974 004c 7461     		str	r4, [r6, #20]
 434:Src/setup.c   **** 	htim_right.Init.AutoReloadPreload = TIM_AUTORELOAD_PRELOAD_DISABLE;
 975              		.loc 1 434 0
 976 004e B461     		str	r4, [r6, #24]
 435:Src/setup.c   **** 	HAL_TIM_PWM_Init(&htim_right);
 977              		.loc 1 435 0
 978 0050 3046     		mov	r0, r6
 979 0052 FFF7FEFF 		bl	HAL_TIM_PWM_Init
 980              	.LVL55:
 436:Src/setup.c   **** 
 437:Src/setup.c   **** 	sMasterConfig.MasterOutputTrigger = TIM_TRGO_ENABLE;
 981              		.loc 1 437 0
 982 0056 1023     		movs	r3, #16
 983 0058 1693     		str	r3, [sp, #88]
 438:Src/setup.c   **** 	sMasterConfig.MasterSlaveMode = TIM_MASTERSLAVEMODE_DISABLE;
 984              		.loc 1 438 0
 985 005a 1794     		str	r4, [sp, #92]
 439:Src/setup.c   **** 	HAL_TIMEx_MasterConfigSynchronization(&htim_right, &sMasterConfig);
 986              		.loc 1 439 0
 987 005c 16A9     		add	r1, sp, #88
 988 005e 3046     		mov	r0, r6
 989 0060 FFF7FEFF 		bl	HAL_TIMEx_MasterConfigSynchronization
 990              	.LVL56:
 440:Src/setup.c   **** 
 441:Src/setup.c   **** 	sConfigOC.OCMode = TIM_OCMODE_PWM1;
 991              		.loc 1 441 0
 992 0064 6023     		movs	r3, #96
 993 0066 0F93     		str	r3, [sp, #60]
ARM GAS  C:\Users\Areg\AppData\Local\Temp\cc4EuRL1.s 			page 26


 442:Src/setup.c   **** 	sConfigOC.Pulse = 0;
 994              		.loc 1 442 0
 995 0068 1094     		str	r4, [sp, #64]
 443:Src/setup.c   **** 	sConfigOC.OCPolarity = TIM_OCPOLARITY_HIGH;
 996              		.loc 1 443 0
 997 006a 1194     		str	r4, [sp, #68]
 444:Src/setup.c   **** 	sConfigOC.OCNPolarity = TIM_OCNPOLARITY_LOW;
 998              		.loc 1 444 0
 999 006c 0827     		movs	r7, #8
 1000 006e 1297     		str	r7, [sp, #72]
 445:Src/setup.c   **** 	sConfigOC.OCFastMode = TIM_OCFAST_DISABLE;
 1001              		.loc 1 445 0
 1002 0070 1394     		str	r4, [sp, #76]
 446:Src/setup.c   **** 	sConfigOC.OCIdleState = TIM_OCIDLESTATE_RESET;
 1003              		.loc 1 446 0
 1004 0072 1494     		str	r4, [sp, #80]
 447:Src/setup.c   **** 	sConfigOC.OCNIdleState = TIM_OCNIDLESTATE_SET;
 1005              		.loc 1 447 0
 1006 0074 4FF40073 		mov	r3, #512
 1007 0078 1593     		str	r3, [sp, #84]
 448:Src/setup.c   **** 	HAL_TIM_PWM_ConfigChannel(&htim_right, &sConfigOC, TIM_CHANNEL_1);
 1008              		.loc 1 448 0
 1009 007a 2246     		mov	r2, r4
 1010 007c 0FA9     		add	r1, sp, #60
 1011 007e 3046     		mov	r0, r6
 1012 0080 FFF7FEFF 		bl	HAL_TIM_PWM_ConfigChannel
 1013              	.LVL57:
 449:Src/setup.c   **** 	HAL_TIM_PWM_ConfigChannel(&htim_right, &sConfigOC, TIM_CHANNEL_2);
 1014              		.loc 1 449 0
 1015 0084 0422     		movs	r2, #4
 1016 0086 0FA9     		add	r1, sp, #60
 1017 0088 3046     		mov	r0, r6
 1018 008a FFF7FEFF 		bl	HAL_TIM_PWM_ConfigChannel
 1019              	.LVL58:
 450:Src/setup.c   **** 	HAL_TIM_PWM_ConfigChannel(&htim_right, &sConfigOC, TIM_CHANNEL_3);
 1020              		.loc 1 450 0
 1021 008e 3A46     		mov	r2, r7
 1022 0090 0FA9     		add	r1, sp, #60
 1023 0092 3046     		mov	r0, r6
 1024 0094 FFF7FEFF 		bl	HAL_TIM_PWM_ConfigChannel
 1025              	.LVL59:
 451:Src/setup.c   **** 
 452:Src/setup.c   **** 	sBreakDeadTimeConfig.OffStateRunMode = TIM_OSSR_ENABLE;
 1026              		.loc 1 452 0
 1027 0098 4FF40063 		mov	r3, #2048
 1028 009c 0893     		str	r3, [sp, #32]
 453:Src/setup.c   **** 	sBreakDeadTimeConfig.OffStateIDLEMode = TIM_OSSI_ENABLE;
 1029              		.loc 1 453 0
 1030 009e 4FF48063 		mov	r3, #1024
 1031 00a2 0993     		str	r3, [sp, #36]
 454:Src/setup.c   **** 	sBreakDeadTimeConfig.LockLevel = TIM_LOCKLEVEL_OFF;
 1032              		.loc 1 454 0
 1033 00a4 0A94     		str	r4, [sp, #40]
 455:Src/setup.c   **** 	sBreakDeadTimeConfig.DeadTime = DEAD_TIME;
 1034              		.loc 1 455 0
 1035 00a6 CDF82C80 		str	r8, [sp, #44]
 456:Src/setup.c   **** 	sBreakDeadTimeConfig.BreakState = TIM_BREAK_DISABLE;
ARM GAS  C:\Users\Areg\AppData\Local\Temp\cc4EuRL1.s 			page 27


 1036              		.loc 1 456 0
 1037 00aa 0C94     		str	r4, [sp, #48]
 457:Src/setup.c   **** 	sBreakDeadTimeConfig.BreakPolarity = TIM_BREAKPOLARITY_LOW;
 1038              		.loc 1 457 0
 1039 00ac 0D94     		str	r4, [sp, #52]
 458:Src/setup.c   **** 	sBreakDeadTimeConfig.AutomaticOutput = TIM_AUTOMATICOUTPUT_DISABLE;
 1040              		.loc 1 458 0
 1041 00ae 0E94     		str	r4, [sp, #56]
 459:Src/setup.c   **** 	HAL_TIMEx_ConfigBreakDeadTime(&htim_right, &sBreakDeadTimeConfig);
 1042              		.loc 1 459 0
 1043 00b0 0DEB0801 		add	r1, sp, r8
 1044 00b4 3046     		mov	r0, r6
 1045 00b6 FFF7FEFF 		bl	HAL_TIMEx_ConfigBreakDeadTime
 1046              	.LVL60:
 460:Src/setup.c   **** 
 461:Src/setup.c   **** 	htim_left.Instance = LEFT_TIM;
 1047              		.loc 1 461 0
 1048 00ba 4A4D     		ldr	r5, .L19+8
 1049 00bc DFF82CA1 		ldr	r10, .L19+16
 1050 00c0 C5F800A0 		str	r10, [r5]
 462:Src/setup.c   **** 	htim_left.Init.Prescaler = 0;
 1051              		.loc 1 462 0
 1052 00c4 6C60     		str	r4, [r5, #4]
 463:Src/setup.c   **** 	htim_left.Init.CounterMode = TIM_COUNTERMODE_CENTERALIGNED1;
 1053              		.loc 1 463 0
 1054 00c6 C5F80880 		str	r8, [r5, #8]
 464:Src/setup.c   **** 	htim_left.Init.Period = 64000000 / 2 / PWM_FREQ;
 1055              		.loc 1 464 0
 1056 00ca C5F80CB0 		str	fp, [r5, #12]
 465:Src/setup.c   **** 	htim_left.Init.ClockDivision = TIM_CLOCKDIVISION_DIV1;
 1057              		.loc 1 465 0
 1058 00ce 2C61     		str	r4, [r5, #16]
 466:Src/setup.c   **** 	htim_left.Init.RepetitionCounter = 0;
 1059              		.loc 1 466 0
 1060 00d0 6C61     		str	r4, [r5, #20]
 467:Src/setup.c   **** 	htim_left.Init.AutoReloadPreload = TIM_AUTORELOAD_PRELOAD_DISABLE;
 1061              		.loc 1 467 0
 1062 00d2 AC61     		str	r4, [r5, #24]
 468:Src/setup.c   **** 	HAL_TIM_PWM_Init(&htim_left);
 1063              		.loc 1 468 0
 1064 00d4 2846     		mov	r0, r5
 1065 00d6 FFF7FEFF 		bl	HAL_TIM_PWM_Init
 1066              	.LVL61:
 469:Src/setup.c   **** 
 470:Src/setup.c   **** 	sMasterConfig.MasterOutputTrigger = TIM_TRGO_UPDATE;
 1067              		.loc 1 470 0
 1068 00da CDF85880 		str	r8, [sp, #88]
 471:Src/setup.c   **** 	sMasterConfig.MasterSlaveMode = TIM_MASTERSLAVEMODE_ENABLE;
 1069              		.loc 1 471 0
 1070 00de 8023     		movs	r3, #128
 1071 00e0 1793     		str	r3, [sp, #92]
 472:Src/setup.c   **** 	HAL_TIMEx_MasterConfigSynchronization(&htim_left, &sMasterConfig);
 1072              		.loc 1 472 0
 1073 00e2 16A9     		add	r1, sp, #88
 1074 00e4 2846     		mov	r0, r5
 1075 00e6 FFF7FEFF 		bl	HAL_TIMEx_MasterConfigSynchronization
 1076              	.LVL62:
ARM GAS  C:\Users\Areg\AppData\Local\Temp\cc4EuRL1.s 			page 28


 473:Src/setup.c   **** 
 474:Src/setup.c   **** 	sTimConfig.InputTrigger = TIM_TS_ITR0;
 1077              		.loc 1 474 0
 1078 00ea 0494     		str	r4, [sp, #16]
 475:Src/setup.c   **** 	sTimConfig.SlaveMode = TIM_SLAVEMODE_GATED;
 1079              		.loc 1 475 0
 1080 00ec 18A9     		add	r1, sp, #96
 1081 00ee 0523     		movs	r3, #5
 1082 00f0 41F8543D 		str	r3, [r1, #-84]!
 476:Src/setup.c   **** 	HAL_TIM_SlaveConfigSynchronization(&htim_left, &sTimConfig);
 1083              		.loc 1 476 0
 1084 00f4 2846     		mov	r0, r5
 1085 00f6 FFF7FEFF 		bl	HAL_TIM_SlaveConfigSynchronization
 1086              	.LVL63:
 477:Src/setup.c   **** 
 478:Src/setup.c   **** 	sConfigOC.OCMode = TIM_OCMODE_PWM1;
 1087              		.loc 1 478 0
 1088 00fa 6023     		movs	r3, #96
 1089 00fc 0F93     		str	r3, [sp, #60]
 479:Src/setup.c   **** 	sConfigOC.Pulse = 0;
 1090              		.loc 1 479 0
 1091 00fe 1094     		str	r4, [sp, #64]
 480:Src/setup.c   **** 	sConfigOC.OCPolarity = TIM_OCPOLARITY_HIGH;
 1092              		.loc 1 480 0
 1093 0100 1194     		str	r4, [sp, #68]
 481:Src/setup.c   **** 	sConfigOC.OCNPolarity = TIM_OCNPOLARITY_LOW;
 1094              		.loc 1 481 0
 1095 0102 1297     		str	r7, [sp, #72]
 482:Src/setup.c   **** 	sConfigOC.OCFastMode = TIM_OCFAST_DISABLE;
 1096              		.loc 1 482 0
 1097 0104 1394     		str	r4, [sp, #76]
 483:Src/setup.c   **** 	sConfigOC.OCIdleState = TIM_OCIDLESTATE_RESET;
 1098              		.loc 1 483 0
 1099 0106 1494     		str	r4, [sp, #80]
 484:Src/setup.c   **** 	sConfigOC.OCNIdleState = TIM_OCNIDLESTATE_SET;
 1100              		.loc 1 484 0
 1101 0108 4FF40073 		mov	r3, #512
 1102 010c 1593     		str	r3, [sp, #84]
 485:Src/setup.c   **** 	HAL_TIM_PWM_ConfigChannel(&htim_left, &sConfigOC, TIM_CHANNEL_1);
 1103              		.loc 1 485 0
 1104 010e 2246     		mov	r2, r4
 1105 0110 0FA9     		add	r1, sp, #60
 1106 0112 2846     		mov	r0, r5
 1107 0114 FFF7FEFF 		bl	HAL_TIM_PWM_ConfigChannel
 1108              	.LVL64:
 486:Src/setup.c   **** 	HAL_TIM_PWM_ConfigChannel(&htim_left, &sConfigOC, TIM_CHANNEL_2);
 1109              		.loc 1 486 0
 1110 0118 0422     		movs	r2, #4
 1111 011a 0FA9     		add	r1, sp, #60
 1112 011c 2846     		mov	r0, r5
 1113 011e FFF7FEFF 		bl	HAL_TIM_PWM_ConfigChannel
 1114              	.LVL65:
 487:Src/setup.c   **** 	HAL_TIM_PWM_ConfigChannel(&htim_left, &sConfigOC, TIM_CHANNEL_3);
 1115              		.loc 1 487 0
 1116 0122 3A46     		mov	r2, r7
 1117 0124 0FA9     		add	r1, sp, #60
 1118 0126 2846     		mov	r0, r5
ARM GAS  C:\Users\Areg\AppData\Local\Temp\cc4EuRL1.s 			page 29


 1119 0128 FFF7FEFF 		bl	HAL_TIM_PWM_ConfigChannel
 1120              	.LVL66:
 488:Src/setup.c   **** 
 489:Src/setup.c   **** 	sBreakDeadTimeConfig.OffStateRunMode = TIM_OSSR_ENABLE;
 1121              		.loc 1 489 0
 1122 012c 4FF40063 		mov	r3, #2048
 1123 0130 0893     		str	r3, [sp, #32]
 490:Src/setup.c   **** 	sBreakDeadTimeConfig.OffStateIDLEMode = TIM_OSSI_ENABLE;
 1124              		.loc 1 490 0
 1125 0132 4FF48063 		mov	r3, #1024
 1126 0136 0993     		str	r3, [sp, #36]
 491:Src/setup.c   **** 	sBreakDeadTimeConfig.LockLevel = TIM_LOCKLEVEL_OFF;
 1127              		.loc 1 491 0
 1128 0138 0A94     		str	r4, [sp, #40]
 492:Src/setup.c   **** 	sBreakDeadTimeConfig.DeadTime = DEAD_TIME;
 1129              		.loc 1 492 0
 1130 013a CDF82C80 		str	r8, [sp, #44]
 493:Src/setup.c   **** 	sBreakDeadTimeConfig.BreakState = TIM_BREAK_DISABLE;
 1131              		.loc 1 493 0
 1132 013e 0C94     		str	r4, [sp, #48]
 494:Src/setup.c   **** 	sBreakDeadTimeConfig.BreakPolarity = TIM_BREAKPOLARITY_LOW;
 1133              		.loc 1 494 0
 1134 0140 0D94     		str	r4, [sp, #52]
 495:Src/setup.c   **** 	sBreakDeadTimeConfig.AutomaticOutput = TIM_AUTOMATICOUTPUT_DISABLE;
 1135              		.loc 1 495 0
 1136 0142 0E94     		str	r4, [sp, #56]
 496:Src/setup.c   **** 	HAL_TIMEx_ConfigBreakDeadTime(&htim_left, &sBreakDeadTimeConfig);
 1137              		.loc 1 496 0
 1138 0144 0DEB0801 		add	r1, sp, r8
 1139 0148 2846     		mov	r0, r5
 1140 014a FFF7FEFF 		bl	HAL_TIMEx_ConfigBreakDeadTime
 1141              	.LVL67:
 497:Src/setup.c   **** 
 498:Src/setup.c   **** 	LEFT_TIM->BDTR &= ~TIM_BDTR_MOE;
 1142              		.loc 1 498 0
 1143 014e DAF84430 		ldr	r3, [r10, #68]
 1144 0152 23F40043 		bic	r3, r3, #32768
 1145 0156 CAF84430 		str	r3, [r10, #68]
 499:Src/setup.c   **** 	RIGHT_TIM->BDTR &= ~TIM_BDTR_MOE;
 1146              		.loc 1 499 0
 1147 015a D9F84430 		ldr	r3, [r9, #68]
 1148 015e 23F40043 		bic	r3, r3, #32768
 1149 0162 C9F84430 		str	r3, [r9, #68]
 500:Src/setup.c   **** 
 501:Src/setup.c   **** 	HAL_TIM_PWM_Start(&htim_left, TIM_CHANNEL_1);
 1150              		.loc 1 501 0
 1151 0166 2146     		mov	r1, r4
 1152 0168 2846     		mov	r0, r5
 1153 016a FFF7FEFF 		bl	HAL_TIM_PWM_Start
 1154              	.LVL68:
 502:Src/setup.c   **** 	HAL_TIM_PWM_Start(&htim_left, TIM_CHANNEL_2);
 1155              		.loc 1 502 0
 1156 016e 0421     		movs	r1, #4
 1157 0170 2846     		mov	r0, r5
 1158 0172 FFF7FEFF 		bl	HAL_TIM_PWM_Start
 1159              	.LVL69:
 503:Src/setup.c   **** 	HAL_TIM_PWM_Start(&htim_left, TIM_CHANNEL_3);
ARM GAS  C:\Users\Areg\AppData\Local\Temp\cc4EuRL1.s 			page 30


 1160              		.loc 1 503 0
 1161 0176 3946     		mov	r1, r7
 1162 0178 2846     		mov	r0, r5
 1163 017a FFF7FEFF 		bl	HAL_TIM_PWM_Start
 1164              	.LVL70:
 504:Src/setup.c   **** 	HAL_TIMEx_PWMN_Start(&htim_left, TIM_CHANNEL_1);
 1165              		.loc 1 504 0
 1166 017e 2146     		mov	r1, r4
 1167 0180 2846     		mov	r0, r5
 1168 0182 FFF7FEFF 		bl	HAL_TIMEx_PWMN_Start
 1169              	.LVL71:
 505:Src/setup.c   **** 	HAL_TIMEx_PWMN_Start(&htim_left, TIM_CHANNEL_2);
 1170              		.loc 1 505 0
 1171 0186 0421     		movs	r1, #4
 1172 0188 2846     		mov	r0, r5
 1173 018a FFF7FEFF 		bl	HAL_TIMEx_PWMN_Start
 1174              	.LVL72:
 506:Src/setup.c   **** 	HAL_TIMEx_PWMN_Start(&htim_left, TIM_CHANNEL_3);
 1175              		.loc 1 506 0
 1176 018e 3946     		mov	r1, r7
 1177 0190 2846     		mov	r0, r5
 1178 0192 FFF7FEFF 		bl	HAL_TIMEx_PWMN_Start
 1179              	.LVL73:
 507:Src/setup.c   **** 
 508:Src/setup.c   **** 	HAL_TIM_PWM_Start(&htim_right, TIM_CHANNEL_1);
 1180              		.loc 1 508 0
 1181 0196 2146     		mov	r1, r4
 1182 0198 3046     		mov	r0, r6
 1183 019a FFF7FEFF 		bl	HAL_TIM_PWM_Start
 1184              	.LVL74:
 509:Src/setup.c   **** 	HAL_TIM_PWM_Start(&htim_right, TIM_CHANNEL_2);
 1185              		.loc 1 509 0
 1186 019e 0421     		movs	r1, #4
 1187 01a0 3046     		mov	r0, r6
 1188 01a2 FFF7FEFF 		bl	HAL_TIM_PWM_Start
 1189              	.LVL75:
 510:Src/setup.c   **** 	HAL_TIM_PWM_Start(&htim_right, TIM_CHANNEL_3);
 1190              		.loc 1 510 0
 1191 01a6 3946     		mov	r1, r7
 1192 01a8 3046     		mov	r0, r6
 1193 01aa FFF7FEFF 		bl	HAL_TIM_PWM_Start
 1194              	.LVL76:
 511:Src/setup.c   **** 	HAL_TIMEx_PWMN_Start(&htim_right, TIM_CHANNEL_1);
 1195              		.loc 1 511 0
 1196 01ae 2146     		mov	r1, r4
 1197 01b0 3046     		mov	r0, r6
 1198 01b2 FFF7FEFF 		bl	HAL_TIMEx_PWMN_Start
 1199              	.LVL77:
 512:Src/setup.c   **** 	HAL_TIMEx_PWMN_Start(&htim_right, TIM_CHANNEL_2);
 1200              		.loc 1 512 0
 1201 01b6 0421     		movs	r1, #4
 1202 01b8 3046     		mov	r0, r6
 1203 01ba FFF7FEFF 		bl	HAL_TIMEx_PWMN_Start
 1204              	.LVL78:
 513:Src/setup.c   **** 	HAL_TIMEx_PWMN_Start(&htim_right, TIM_CHANNEL_3);
 1205              		.loc 1 513 0
 1206 01be 3946     		mov	r1, r7
ARM GAS  C:\Users\Areg\AppData\Local\Temp\cc4EuRL1.s 			page 31


 1207 01c0 3046     		mov	r0, r6
 1208 01c2 FFF7FEFF 		bl	HAL_TIMEx_PWMN_Start
 1209              	.LVL79:
 514:Src/setup.c   **** 
 515:Src/setup.c   **** 	htim_left.Instance->RCR = 1;
 1210              		.loc 1 515 0
 1211 01c6 2B68     		ldr	r3, [r5]
 1212 01c8 0122     		movs	r2, #1
 1213 01ca 1A63     		str	r2, [r3, #48]
 516:Src/setup.c   **** 
 517:Src/setup.c   **** 	__HAL_TIM_ENABLE(&htim_right);
 1214              		.loc 1 517 0
 1215 01cc 3268     		ldr	r2, [r6]
 1216 01ce 1368     		ldr	r3, [r2]
 1217 01d0 43F00103 		orr	r3, r3, #1
 1218 01d4 1360     		str	r3, [r2]
 518:Src/setup.c   **** }
 1219              		.loc 1 518 0
 1220 01d6 19B0     		add	sp, sp, #100
 1221              	.LCFI14:
 1222              		.cfi_def_cfa_offset 36
 1223              		@ sp needed
 1224 01d8 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 1225              	.L20:
 1226              		.align	2
 1227              	.L19:
 1228 01dc 00100240 		.word	1073876992
 1229 01e0 00000000 		.word	htim_right
 1230 01e4 00000000 		.word	htim_left
 1231 01e8 002C0140 		.word	1073818624
 1232 01ec 00340140 		.word	1073820672
 1233              		.cfi_endproc
 1234              	.LFE68:
 1236              		.section	.text.MX_ADC1_Init,"ax",%progbits
 1237              		.align	2
 1238              		.global	MX_ADC1_Init
 1239              		.thumb
 1240              		.thumb_func
 1242              	MX_ADC1_Init:
 1243              	.LFB69:
 519:Src/setup.c   **** 
 520:Src/setup.c   **** void MX_ADC1_Init(void) {
 1244              		.loc 1 520 0
 1245              		.cfi_startproc
 1246              		@ args = 0, pretend = 0, frame = 24
 1247              		@ frame_needed = 0, uses_anonymous_args = 0
 1248 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 1249              	.LCFI15:
 1250              		.cfi_def_cfa_offset 24
 1251              		.cfi_offset 4, -24
 1252              		.cfi_offset 5, -20
 1253              		.cfi_offset 6, -16
 1254              		.cfi_offset 7, -12
 1255              		.cfi_offset 8, -8
 1256              		.cfi_offset 14, -4
 1257 0004 86B0     		sub	sp, sp, #24
 1258              	.LCFI16:
ARM GAS  C:\Users\Areg\AppData\Local\Temp\cc4EuRL1.s 			page 32


 1259              		.cfi_def_cfa_offset 48
 1260              	.LBB18:
 521:Src/setup.c   **** 	ADC_MultiModeTypeDef multimode;
 522:Src/setup.c   **** 	ADC_ChannelConfTypeDef sConfig;
 523:Src/setup.c   **** 
 524:Src/setup.c   **** 	__HAL_RCC_ADC1_CLK_ENABLE();
 1261              		.loc 1 524 0
 1262 0006 424E     		ldr	r6, .L23
 1263 0008 B369     		ldr	r3, [r6, #24]
 1264 000a 43F40073 		orr	r3, r3, #512
 1265 000e B361     		str	r3, [r6, #24]
 1266 0010 B369     		ldr	r3, [r6, #24]
 1267 0012 03F40073 		and	r3, r3, #512
 1268 0016 0093     		str	r3, [sp]
 1269 0018 009B     		ldr	r3, [sp]
 1270              	.LBE18:
 525:Src/setup.c   **** 
 526:Src/setup.c   **** 	hadc1.Instance = ADC1;
 1271              		.loc 1 526 0
 1272 001a 3E4C     		ldr	r4, .L23+4
 1273 001c 3E4B     		ldr	r3, .L23+8
 1274 001e 2360     		str	r3, [r4]
 527:Src/setup.c   **** 	hadc1.Init.ScanConvMode = ADC_SCAN_ENABLE;
 1275              		.loc 1 527 0
 1276 0020 4FF48073 		mov	r3, #256
 1277 0024 A360     		str	r3, [r4, #8]
 528:Src/setup.c   **** 	hadc1.Init.ContinuousConvMode = DISABLE;
 1278              		.loc 1 528 0
 1279 0026 0025     		movs	r5, #0
 1280 0028 E560     		str	r5, [r4, #12]
 529:Src/setup.c   **** 	hadc1.Init.DiscontinuousConvMode = DISABLE;
 1281              		.loc 1 529 0
 1282 002a 6561     		str	r5, [r4, #20]
 530:Src/setup.c   **** 	hadc1.Init.ExternalTrigConv = ADC_EXTERNALTRIGCONV_T8_TRGO;
 1283              		.loc 1 530 0
 1284 002c 4FF44023 		mov	r3, #786432
 1285 0030 E361     		str	r3, [r4, #28]
 531:Src/setup.c   **** 	hadc1.Init.DataAlign = ADC_DATAALIGN_RIGHT;
 1286              		.loc 1 531 0
 1287 0032 6560     		str	r5, [r4, #4]
 532:Src/setup.c   **** 	hadc1.Init.NbrOfConversion = 5;
 1288              		.loc 1 532 0
 1289 0034 4FF00508 		mov	r8, #5
 1290 0038 C4F81080 		str	r8, [r4, #16]
 533:Src/setup.c   **** 	HAL_ADC_Init(&hadc1);
 1291              		.loc 1 533 0
 1292 003c 2046     		mov	r0, r4
 1293 003e FFF7FEFF 		bl	HAL_ADC_Init
 1294              	.LVL80:
 534:Src/setup.c   **** 	/**Enable or disable the remapping of ADC1_ETRGREG:
 535:Src/setup.c   **** 	 * ADC1 External Event regular conversion is connected to TIM8 TRG0
 536:Src/setup.c   **** 	 */
 537:Src/setup.c   **** 	__HAL_AFIO_REMAP_ADC1_ETRGREG_ENABLE();
 1295              		.loc 1 537 0
 1296 0042 364A     		ldr	r2, .L23+12
 1297 0044 5368     		ldr	r3, [r2, #4]
 1298 0046 43F48023 		orr	r3, r3, #262144
ARM GAS  C:\Users\Areg\AppData\Local\Temp\cc4EuRL1.s 			page 33


 1299 004a 5360     		str	r3, [r2, #4]
 538:Src/setup.c   **** 
 539:Src/setup.c   **** 	/**Configure the ADC multi-mode
 540:Src/setup.c   **** 	 */
 541:Src/setup.c   **** 	multimode.Mode = ADC_DUALMODE_REGSIMULT;
 1300              		.loc 1 541 0
 1301 004c 06A9     		add	r1, sp, #24
 1302 004e 4FF4C023 		mov	r3, #393216
 1303 0052 41F8043D 		str	r3, [r1, #-4]!
 542:Src/setup.c   **** 	HAL_ADCEx_MultiModeConfigChannel(&hadc1, &multimode);
 1304              		.loc 1 542 0
 1305 0056 2046     		mov	r0, r4
 1306 0058 FFF7FEFF 		bl	HAL_ADCEx_MultiModeConfigChannel
 1307              	.LVL81:
 543:Src/setup.c   **** 
 544:Src/setup.c   **** 	sConfig.SamplingTime = ADC_SAMPLETIME_7CYCLES_5;
 1308              		.loc 1 544 0
 1309 005c 0123     		movs	r3, #1
 1310 005e 0493     		str	r3, [sp, #16]
 545:Src/setup.c   **** 
 546:Src/setup.c   **** 	sConfig.Channel = ADC_CHANNEL_14; // pc4 left b
 1311              		.loc 1 546 0
 1312 0060 0E22     		movs	r2, #14
 1313 0062 0292     		str	r2, [sp, #8]
 547:Src/setup.c   **** 	sConfig.Rank = 1;
 1314              		.loc 1 547 0
 1315 0064 0393     		str	r3, [sp, #12]
 548:Src/setup.c   **** 	HAL_ADC_ConfigChannel(&hadc1, &sConfig);
 1316              		.loc 1 548 0
 1317 0066 02A9     		add	r1, sp, #8
 1318 0068 2046     		mov	r0, r4
 1319 006a FFF7FEFF 		bl	HAL_ADC_ConfigChannel
 1320              	.LVL82:
 549:Src/setup.c   **** 
 550:Src/setup.c   **** 	sConfig.Channel = ADC_CHANNEL_0; // pa0 right a
 1321              		.loc 1 550 0
 1322 006e 0295     		str	r5, [sp, #8]
 551:Src/setup.c   **** 	sConfig.Rank = 2;
 1323              		.loc 1 551 0
 1324 0070 0227     		movs	r7, #2
 1325 0072 0397     		str	r7, [sp, #12]
 552:Src/setup.c   **** 	HAL_ADC_ConfigChannel(&hadc1, &sConfig);
 1326              		.loc 1 552 0
 1327 0074 02A9     		add	r1, sp, #8
 1328 0076 2046     		mov	r0, r4
 1329 0078 FFF7FEFF 		bl	HAL_ADC_ConfigChannel
 1330              	.LVL83:
 553:Src/setup.c   **** 
 554:Src/setup.c   **** 	sConfig.SamplingTime = ADC_SAMPLETIME_13CYCLES_5;
 1331              		.loc 1 554 0
 1332 007c 0497     		str	r7, [sp, #16]
 555:Src/setup.c   **** 
 556:Src/setup.c   **** 	sConfig.Channel = ADC_CHANNEL_11; // pc1 left cur
 1333              		.loc 1 556 0
 1334 007e 0B27     		movs	r7, #11
 1335 0080 0297     		str	r7, [sp, #8]
 557:Src/setup.c   **** 	sConfig.Rank = 3;
ARM GAS  C:\Users\Areg\AppData\Local\Temp\cc4EuRL1.s 			page 34


 1336              		.loc 1 557 0
 1337 0082 0323     		movs	r3, #3
 1338 0084 0393     		str	r3, [sp, #12]
 558:Src/setup.c   **** 	HAL_ADC_ConfigChannel(&hadc1, &sConfig);
 1339              		.loc 1 558 0
 1340 0086 02A9     		add	r1, sp, #8
 1341 0088 2046     		mov	r0, r4
 1342 008a FFF7FEFF 		bl	HAL_ADC_ConfigChannel
 1343              	.LVL84:
 559:Src/setup.c   **** 
 560:Src/setup.c   **** 	sConfig.Channel = ADC_CHANNEL_12; // pc2 vbat
 1344              		.loc 1 560 0
 1345 008e 0C23     		movs	r3, #12
 1346 0090 0293     		str	r3, [sp, #8]
 561:Src/setup.c   **** 	sConfig.Rank = 4;
 1347              		.loc 1 561 0
 1348 0092 0423     		movs	r3, #4
 1349 0094 0393     		str	r3, [sp, #12]
 562:Src/setup.c   **** 	HAL_ADC_ConfigChannel(&hadc1, &sConfig);
 1350              		.loc 1 562 0
 1351 0096 02A9     		add	r1, sp, #8
 1352 0098 2046     		mov	r0, r4
 1353 009a FFF7FEFF 		bl	HAL_ADC_ConfigChannel
 1354              	.LVL85:
 563:Src/setup.c   **** 
 564:Src/setup.c   **** 	// temperature requires at least 17.1uS sampling time
 565:Src/setup.c   **** 	sConfig.SamplingTime = ADC_SAMPLETIME_239CYCLES_5;
 1355              		.loc 1 565 0
 1356 009e 0723     		movs	r3, #7
 1357 00a0 0493     		str	r3, [sp, #16]
 566:Src/setup.c   **** 
 567:Src/setup.c   **** 	sConfig.Channel = ADC_CHANNEL_TEMPSENSOR; // internal temp
 1358              		.loc 1 567 0
 1359 00a2 1023     		movs	r3, #16
 1360 00a4 0293     		str	r3, [sp, #8]
 568:Src/setup.c   **** 	sConfig.Rank = 5;
 1361              		.loc 1 568 0
 1362 00a6 CDF80C80 		str	r8, [sp, #12]
 569:Src/setup.c   **** 	HAL_ADC_ConfigChannel(&hadc1, &sConfig);
 1363              		.loc 1 569 0
 1364 00aa 02A9     		add	r1, sp, #8
 1365 00ac 2046     		mov	r0, r4
 1366 00ae FFF7FEFF 		bl	HAL_ADC_ConfigChannel
 1367              	.LVL86:
 570:Src/setup.c   **** 
 571:Src/setup.c   **** 	hadc1.Instance->CR2 |= ADC_CR2_DMA | ADC_CR2_TSVREFE;
 1368              		.loc 1 571 0
 1369 00b2 2268     		ldr	r2, [r4]
 1370 00b4 9368     		ldr	r3, [r2, #8]
 1371 00b6 43F40003 		orr	r3, r3, #8388608
 1372 00ba 43F48073 		orr	r3, r3, #256
 1373 00be 9360     		str	r3, [r2, #8]
 572:Src/setup.c   **** 
 573:Src/setup.c   **** 	__HAL_ADC_ENABLE(&hadc1);
 1374              		.loc 1 573 0
 1375 00c0 9368     		ldr	r3, [r2, #8]
 1376 00c2 43F00103 		orr	r3, r3, #1
ARM GAS  C:\Users\Areg\AppData\Local\Temp\cc4EuRL1.s 			page 35


 1377 00c6 9360     		str	r3, [r2, #8]
 1378              	.LBB19:
 574:Src/setup.c   **** 
 575:Src/setup.c   **** 	__HAL_RCC_DMA1_CLK_ENABLE();
 1379              		.loc 1 575 0
 1380 00c8 7369     		ldr	r3, [r6, #20]
 1381 00ca 43F00103 		orr	r3, r3, #1
 1382 00ce 7361     		str	r3, [r6, #20]
 1383 00d0 7369     		ldr	r3, [r6, #20]
 1384 00d2 03F00103 		and	r3, r3, #1
 1385 00d6 0193     		str	r3, [sp, #4]
 1386 00d8 019B     		ldr	r3, [sp, #4]
 1387              	.LBE19:
 576:Src/setup.c   **** 
 577:Src/setup.c   **** 	DMA1_Channel1->CCR = 0;
 1388              		.loc 1 577 0
 1389 00da 114B     		ldr	r3, .L23+16
 1390 00dc 1D60     		str	r5, [r3]
 578:Src/setup.c   **** 	DMA1_Channel1->CNDTR = 5;
 1391              		.loc 1 578 0
 1392 00de C3F80480 		str	r8, [r3, #4]
 579:Src/setup.c   **** 	DMA1_Channel1->CPAR = (uint32_t) & (ADC1->DR);
 1393              		.loc 1 579 0
 1394 00e2 104A     		ldr	r2, .L23+20
 1395 00e4 9A60     		str	r2, [r3, #8]
 580:Src/setup.c   **** 	DMA1_Channel1->CMAR = (uint32_t)&adc_buffer;
 1396              		.loc 1 580 0
 1397 00e6 104A     		ldr	r2, .L23+24
 1398 00e8 DA60     		str	r2, [r3, #12]
 581:Src/setup.c   **** 	DMA1_Channel1->CCR = DMA_CCR_MSIZE_1 | DMA_CCR_PSIZE_1 | DMA_CCR_MINC |
 1399              		.loc 1 581 0
 1400 00ea 40F6A222 		movw	r2, #2722
 1401 00ee 1A60     		str	r2, [r3]
 582:Src/setup.c   **** 						 DMA_CCR_CIRC | DMA_CCR_TCIE;
 583:Src/setup.c   **** 	DMA1_Channel1->CCR |= DMA_CCR_EN;
 1402              		.loc 1 583 0
 1403 00f0 1A68     		ldr	r2, [r3]
 1404 00f2 42F00102 		orr	r2, r2, #1
 1405 00f6 1A60     		str	r2, [r3]
 584:Src/setup.c   **** 
 585:Src/setup.c   **** 	HAL_NVIC_SetPriority(DMA1_Channel1_IRQn, 0, 0);
 1406              		.loc 1 585 0
 1407 00f8 2A46     		mov	r2, r5
 1408 00fa 2946     		mov	r1, r5
 1409 00fc 3846     		mov	r0, r7
 1410 00fe FFF7FEFF 		bl	HAL_NVIC_SetPriority
 1411              	.LVL87:
 586:Src/setup.c   **** 	HAL_NVIC_EnableIRQ(DMA1_Channel1_IRQn);
 1412              		.loc 1 586 0
 1413 0102 3846     		mov	r0, r7
 1414 0104 FFF7FEFF 		bl	HAL_NVIC_EnableIRQ
 1415              	.LVL88:
 587:Src/setup.c   **** }
 1416              		.loc 1 587 0
 1417 0108 06B0     		add	sp, sp, #24
 1418              	.LCFI17:
 1419              		.cfi_def_cfa_offset 24
ARM GAS  C:\Users\Areg\AppData\Local\Temp\cc4EuRL1.s 			page 36


 1420              		@ sp needed
 1421 010a BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 1422              	.L24:
 1423 010e 00BF     		.align	2
 1424              	.L23:
 1425 0110 00100240 		.word	1073876992
 1426 0114 00000000 		.word	hadc1
 1427 0118 00240140 		.word	1073816576
 1428 011c 00000140 		.word	1073807360
 1429 0120 08000240 		.word	1073872904
 1430 0124 4C240140 		.word	1073816652
 1431 0128 00000000 		.word	adc_buffer
 1432              		.cfi_endproc
 1433              	.LFE69:
 1435              		.section	.text.MX_ADC2_Init,"ax",%progbits
 1436              		.align	2
 1437              		.global	MX_ADC2_Init
 1438              		.thumb
 1439              		.thumb_func
 1441              	MX_ADC2_Init:
 1442              	.LFB70:
 588:Src/setup.c   **** 
 589:Src/setup.c   **** /* ADC2 init function */
 590:Src/setup.c   **** void MX_ADC2_Init(void) {
 1443              		.loc 1 590 0
 1444              		.cfi_startproc
 1445              		@ args = 0, pretend = 0, frame = 16
 1446              		@ frame_needed = 0, uses_anonymous_args = 0
 1447 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 1448              	.LCFI18:
 1449              		.cfi_def_cfa_offset 20
 1450              		.cfi_offset 4, -20
 1451              		.cfi_offset 5, -16
 1452              		.cfi_offset 6, -12
 1453              		.cfi_offset 7, -8
 1454              		.cfi_offset 14, -4
 1455 0002 85B0     		sub	sp, sp, #20
 1456              	.LCFI19:
 1457              		.cfi_def_cfa_offset 40
 1458              	.LBB20:
 591:Src/setup.c   **** 	ADC_ChannelConfTypeDef sConfig;
 592:Src/setup.c   **** 
 593:Src/setup.c   **** 	__HAL_RCC_ADC2_CLK_ENABLE();
 1459              		.loc 1 593 0
 1460 0004 284B     		ldr	r3, .L27
 1461 0006 9A69     		ldr	r2, [r3, #24]
 1462 0008 42F48062 		orr	r2, r2, #1024
 1463 000c 9A61     		str	r2, [r3, #24]
 1464 000e 9B69     		ldr	r3, [r3, #24]
 1465 0010 03F48063 		and	r3, r3, #1024
 1466 0014 0093     		str	r3, [sp]
 1467 0016 009B     		ldr	r3, [sp]
 1468              	.LBE20:
 594:Src/setup.c   **** 
 595:Src/setup.c   **** 	// HAL_ADC_DeInit(&hadc2);
 596:Src/setup.c   **** 	// hadc2.Instance->CR2 = 0;
 597:Src/setup.c   **** 	/**Common config
ARM GAS  C:\Users\Areg\AppData\Local\Temp\cc4EuRL1.s 			page 37


 598:Src/setup.c   **** 	 */
 599:Src/setup.c   **** 	hadc2.Instance = ADC2;
 1469              		.loc 1 599 0
 1470 0018 244C     		ldr	r4, .L27+4
 1471 001a 254B     		ldr	r3, .L27+8
 1472 001c 2360     		str	r3, [r4]
 600:Src/setup.c   **** 	hadc2.Init.ScanConvMode = ADC_SCAN_ENABLE;
 1473              		.loc 1 600 0
 1474 001e 4FF48073 		mov	r3, #256
 1475 0022 A360     		str	r3, [r4, #8]
 601:Src/setup.c   **** 	hadc2.Init.ContinuousConvMode = DISABLE;
 1476              		.loc 1 601 0
 1477 0024 0023     		movs	r3, #0
 1478 0026 E360     		str	r3, [r4, #12]
 602:Src/setup.c   **** 	hadc2.Init.DiscontinuousConvMode = DISABLE;
 1479              		.loc 1 602 0
 1480 0028 6361     		str	r3, [r4, #20]
 603:Src/setup.c   **** 	hadc2.Init.ExternalTrigConv = ADC_SOFTWARE_START;
 1481              		.loc 1 603 0
 1482 002a 4FF46022 		mov	r2, #917504
 1483 002e E261     		str	r2, [r4, #28]
 604:Src/setup.c   **** 	hadc2.Init.DataAlign = ADC_DATAALIGN_RIGHT;
 1484              		.loc 1 604 0
 1485 0030 6360     		str	r3, [r4, #4]
 605:Src/setup.c   **** 	hadc2.Init.NbrOfConversion = 5;
 1486              		.loc 1 605 0
 1487 0032 0526     		movs	r6, #5
 1488 0034 2661     		str	r6, [r4, #16]
 606:Src/setup.c   **** 	HAL_ADC_Init(&hadc2);
 1489              		.loc 1 606 0
 1490 0036 2046     		mov	r0, r4
 1491 0038 FFF7FEFF 		bl	HAL_ADC_Init
 1492              	.LVL89:
 607:Src/setup.c   **** 
 608:Src/setup.c   **** 	sConfig.SamplingTime = ADC_SAMPLETIME_7CYCLES_5;
 1493              		.loc 1 608 0
 1494 003c 0123     		movs	r3, #1
 1495 003e 0393     		str	r3, [sp, #12]
 609:Src/setup.c   **** 
 610:Src/setup.c   **** 	sConfig.Channel = ADC_CHANNEL_15; // pc5 left c
 1496              		.loc 1 610 0
 1497 0040 0F22     		movs	r2, #15
 1498 0042 0192     		str	r2, [sp, #4]
 611:Src/setup.c   **** 	sConfig.Rank = 1;
 1499              		.loc 1 611 0
 1500 0044 0293     		str	r3, [sp, #8]
 612:Src/setup.c   **** 	HAL_ADC_ConfigChannel(&hadc2, &sConfig);
 1501              		.loc 1 612 0
 1502 0046 01A9     		add	r1, sp, #4
 1503 0048 2046     		mov	r0, r4
 1504 004a FFF7FEFF 		bl	HAL_ADC_ConfigChannel
 1505              	.LVL90:
 613:Src/setup.c   **** 
 614:Src/setup.c   **** 	sConfig.Channel = ADC_CHANNEL_13; // pc3 right b
 1506              		.loc 1 614 0
 1507 004e 0D23     		movs	r3, #13
 1508 0050 0193     		str	r3, [sp, #4]
ARM GAS  C:\Users\Areg\AppData\Local\Temp\cc4EuRL1.s 			page 38


 615:Src/setup.c   **** 	sConfig.Rank = 2;
 1509              		.loc 1 615 0
 1510 0052 0225     		movs	r5, #2
 1511 0054 0295     		str	r5, [sp, #8]
 616:Src/setup.c   **** 	HAL_ADC_ConfigChannel(&hadc2, &sConfig);
 1512              		.loc 1 616 0
 1513 0056 01A9     		add	r1, sp, #4
 1514 0058 2046     		mov	r0, r4
 1515 005a FFF7FEFF 		bl	HAL_ADC_ConfigChannel
 1516              	.LVL91:
 617:Src/setup.c   **** 
 618:Src/setup.c   **** 	sConfig.SamplingTime = ADC_SAMPLETIME_13CYCLES_5;
 1517              		.loc 1 618 0
 1518 005e 0395     		str	r5, [sp, #12]
 619:Src/setup.c   **** 
 620:Src/setup.c   **** 	sConfig.Channel = ADC_CHANNEL_10; // pc0 right cur
 1519              		.loc 1 620 0
 1520 0060 0A23     		movs	r3, #10
 1521 0062 0193     		str	r3, [sp, #4]
 621:Src/setup.c   **** 	sConfig.Rank = 3;
 1522              		.loc 1 621 0
 1523 0064 0327     		movs	r7, #3
 1524 0066 0297     		str	r7, [sp, #8]
 622:Src/setup.c   **** 	HAL_ADC_ConfigChannel(&hadc2, &sConfig);
 1525              		.loc 1 622 0
 1526 0068 01A9     		add	r1, sp, #4
 1527 006a 2046     		mov	r0, r4
 1528 006c FFF7FEFF 		bl	HAL_ADC_ConfigChannel
 1529              	.LVL92:
 623:Src/setup.c   **** 
 624:Src/setup.c   **** 	sConfig.Channel = ADC_CHANNEL_2; // pa2 uart-l-tx
 1530              		.loc 1 624 0
 1531 0070 0195     		str	r5, [sp, #4]
 625:Src/setup.c   **** 	sConfig.Rank = 4;
 1532              		.loc 1 625 0
 1533 0072 0423     		movs	r3, #4
 1534 0074 0293     		str	r3, [sp, #8]
 626:Src/setup.c   **** 	HAL_ADC_ConfigChannel(&hadc2, &sConfig);
 1535              		.loc 1 626 0
 1536 0076 0DEB0301 		add	r1, sp, r3
 1537 007a 2046     		mov	r0, r4
 1538 007c FFF7FEFF 		bl	HAL_ADC_ConfigChannel
 1539              	.LVL93:
 627:Src/setup.c   **** 
 628:Src/setup.c   **** 	sConfig.SamplingTime = ADC_SAMPLETIME_239CYCLES_5;
 1540              		.loc 1 628 0
 1541 0080 0723     		movs	r3, #7
 1542 0082 0393     		str	r3, [sp, #12]
 629:Src/setup.c   **** 
 630:Src/setup.c   **** 	sConfig.Channel = ADC_CHANNEL_3; // pa3 uart-l-rx
 1543              		.loc 1 630 0
 1544 0084 0197     		str	r7, [sp, #4]
 631:Src/setup.c   **** 	sConfig.Rank = 5;
 1545              		.loc 1 631 0
 1546 0086 0296     		str	r6, [sp, #8]
 632:Src/setup.c   **** 	HAL_ADC_ConfigChannel(&hadc2, &sConfig);
 1547              		.loc 1 632 0
ARM GAS  C:\Users\Areg\AppData\Local\Temp\cc4EuRL1.s 			page 39


 1548 0088 01A9     		add	r1, sp, #4
 1549 008a 2046     		mov	r0, r4
 1550 008c FFF7FEFF 		bl	HAL_ADC_ConfigChannel
 1551              	.LVL94:
 633:Src/setup.c   **** 
 634:Src/setup.c   **** 	hadc2.Instance->CR2 |= ADC_CR2_DMA;
 1552              		.loc 1 634 0
 1553 0090 2368     		ldr	r3, [r4]
 1554 0092 9A68     		ldr	r2, [r3, #8]
 1555 0094 42F48072 		orr	r2, r2, #256
 1556 0098 9A60     		str	r2, [r3, #8]
 635:Src/setup.c   **** 	__HAL_ADC_ENABLE(&hadc2);
 1557              		.loc 1 635 0
 1558 009a 9A68     		ldr	r2, [r3, #8]
 1559 009c 42F00102 		orr	r2, r2, #1
 1560 00a0 9A60     		str	r2, [r3, #8]
 636:Src/setup.c   **** }
 1561              		.loc 1 636 0
 1562 00a2 05B0     		add	sp, sp, #20
 1563              	.LCFI20:
 1564              		.cfi_def_cfa_offset 20
 1565              		@ sp needed
 1566 00a4 F0BD     		pop	{r4, r5, r6, r7, pc}
 1567              	.L28:
 1568 00a6 00BF     		.align	2
 1569              	.L27:
 1570 00a8 00100240 		.word	1073876992
 1571 00ac 00000000 		.word	hadc2
 1572 00b0 00280140 		.word	1073817600
 1573              		.cfi_endproc
 1574              	.LFE70:
 1576              		.comm	hdma_i2c2_tx,68,4
 1577              		.comm	hdma_i2c2_rx,68,4
 1578              		.comm	adc_buffer,20,4
 1579              		.comm	hdma_usart2_tx,68,4
 1580              		.comm	hdma_usart2_rx,68,4
 1581              		.comm	huart2,64,4
 1582              		.comm	hi2c2,84,4
 1583              		.comm	hadc2,48,4
 1584              		.comm	hadc1,48,4
 1585              		.comm	htim_left,64,4
 1586              		.comm	htim_right,64,4
 1587              		.text
 1588              	.Letext0:
 1589              		.file 2 "d:\\stm32\\gcc-arm\\arm-none-eabi\\include\\machine\\_default_types.h"
 1590              		.file 3 "d:\\stm32\\gcc-arm\\arm-none-eabi\\include\\sys\\_stdint.h"
 1591              		.file 4 "Drivers/CMSIS/Device/ST/STM32F1xx/Include/stm32f103xe.h"
 1592              		.file 5 "Drivers/CMSIS/Device/ST/STM32F1xx/Include/stm32f1xx.h"
 1593              		.file 6 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_def.h"
 1594              		.file 7 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_gpio.h"
 1595              		.file 8 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_dma.h"
 1596              		.file 9 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_adc.h"
 1597              		.file 10 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_adc_ex.h"
 1598              		.file 11 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_i2c.h"
 1599              		.file 12 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_tim.h"
 1600              		.file 13 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_tim_ex.h"
 1601              		.file 14 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_uart.h"
ARM GAS  C:\Users\Areg\AppData\Local\Temp\cc4EuRL1.s 			page 40


 1602              		.file 15 "Inc/defines.h"
 1603              		.file 16 "Drivers/CMSIS/Include/core_cm3.h"
 1604              		.file 17 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_cortex.h"
ARM GAS  C:\Users\Areg\AppData\Local\Temp\cc4EuRL1.s 			page 41


DEFINED SYMBOLS
                            *ABS*:00000000 setup.c
C:\Users\Areg\AppData\Local\Temp\cc4EuRL1.s:20     .text.UART_Control_Init:00000000 $t
C:\Users\Areg\AppData\Local\Temp\cc4EuRL1.s:25     .text.UART_Control_Init:00000000 UART_Control_Init
C:\Users\Areg\AppData\Local\Temp\cc4EuRL1.s:217    .text.UART_Control_Init:00000100 $d
                            *COM*:00000040 huart2
                            *COM*:00000044 hdma_usart2_rx
                            *COM*:00000044 hdma_usart2_tx
C:\Users\Areg\AppData\Local\Temp\cc4EuRL1.s:228    .text.UART_Init:00000000 $t
C:\Users\Areg\AppData\Local\Temp\cc4EuRL1.s:233    .text.UART_Init:00000000 UART_Init
C:\Users\Areg\AppData\Local\Temp\cc4EuRL1.s:338    .text.UART_Init:00000084 $d
C:\Users\Areg\AppData\Local\Temp\cc4EuRL1.s:347    .text.I2C_Init:00000000 $t
C:\Users\Areg\AppData\Local\Temp\cc4EuRL1.s:352    .text.I2C_Init:00000000 I2C_Init
C:\Users\Areg\AppData\Local\Temp\cc4EuRL1.s:567    .text.I2C_Init:00000130 $d
                            *COM*:00000054 hi2c2
                            *COM*:00000044 hdma_i2c2_rx
                            *COM*:00000044 hdma_i2c2_tx
C:\Users\Areg\AppData\Local\Temp\cc4EuRL1.s:580    .text.MX_GPIO_Init:00000000 $t
C:\Users\Areg\AppData\Local\Temp\cc4EuRL1.s:585    .text.MX_GPIO_Init:00000000 MX_GPIO_Init
C:\Users\Areg\AppData\Local\Temp\cc4EuRL1.s:903    .text.MX_GPIO_Init:000001f4 $d
C:\Users\Areg\AppData\Local\Temp\cc4EuRL1.s:911    .text.MX_TIM_Init:00000000 $t
C:\Users\Areg\AppData\Local\Temp\cc4EuRL1.s:916    .text.MX_TIM_Init:00000000 MX_TIM_Init
C:\Users\Areg\AppData\Local\Temp\cc4EuRL1.s:1228   .text.MX_TIM_Init:000001dc $d
                            *COM*:00000040 htim_right
                            *COM*:00000040 htim_left
C:\Users\Areg\AppData\Local\Temp\cc4EuRL1.s:1237   .text.MX_ADC1_Init:00000000 $t
C:\Users\Areg\AppData\Local\Temp\cc4EuRL1.s:1242   .text.MX_ADC1_Init:00000000 MX_ADC1_Init
C:\Users\Areg\AppData\Local\Temp\cc4EuRL1.s:1425   .text.MX_ADC1_Init:00000110 $d
                            *COM*:00000030 hadc1
                            *COM*:00000014 adc_buffer
C:\Users\Areg\AppData\Local\Temp\cc4EuRL1.s:1436   .text.MX_ADC2_Init:00000000 $t
C:\Users\Areg\AppData\Local\Temp\cc4EuRL1.s:1441   .text.MX_ADC2_Init:00000000 MX_ADC2_Init
C:\Users\Areg\AppData\Local\Temp\cc4EuRL1.s:1570   .text.MX_ADC2_Init:000000a8 $d
                            *COM*:00000030 hadc2
                     .debug_frame:00000010 $d

UNDEFINED SYMBOLS
HAL_NVIC_SetPriority
HAL_NVIC_EnableIRQ
HAL_UART_Init
HAL_GPIO_Init
HAL_DMA_Init
HAL_I2C_Init
HAL_TIM_PWM_Init
HAL_TIMEx_MasterConfigSynchronization
HAL_TIM_PWM_ConfigChannel
HAL_TIMEx_ConfigBreakDeadTime
HAL_TIM_SlaveConfigSynchronization
HAL_TIM_PWM_Start
HAL_TIMEx_PWMN_Start
HAL_ADC_Init
HAL_ADCEx_MultiModeConfigChannel
HAL_ADC_ConfigChannel
